/*
 * TVX Plugin v0.0.58 (Module)
 * (c) 2021 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define([],b)}else{if(typeof module=="object"&&module.exports){module.exports=b()}else{a.tvx=b()}}}(this,function(){var k={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.28",SUFFIX:null,DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",AFK_DELAY:8000,SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ID:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,LEAVE:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,SUSPEND:0,SECURE:0,APP:null};var l={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_CURSOR_OFF:"tvx-cursor-off",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameBorder='0' scrolling='no' allow='autoplay *;encrypted-media *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
    var a=new function(){var O=/\\/g;var ab=/"/g;var Q=/'/g;var av=/\n/g;var at=/\r/g;var M=/\r\n/g;var aq=/\t/g;var V=/\s/g;var Y=/-/g;var Z=/^[A-Za-z0-9._-]+$/;var aj=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var ap=/"(\\.|[^"\\])*"/g;var ar=/^\s+|\s+$/g;var ac=/\s{0,}>\s{0,}/g;var ae=/\s{0,}\/>/g;var ad=/\s{0,}<\s{0,}/g;var ag=av;var af=at;var ai=/\s{2,}/g;var I=/&/g;var U=ab;var N=Q;var aa=/</g;var S=/>/g;var am=/&quot;/g;var al=/&#39;/g;var ak=/&lt;/g;var ao=/&gt;/g;var an=/&amp;/g;var J=/\+/g;var L=/\//g;var K=/=/g;var P=/[^A-Za-z0-9\+\/\=]/g;var R=Y;var ah=/_/g;var aw=/,/g;var W=/\./g;var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var X=window.location.protocol==="https:";var au=function(ax,az){if(ax&&az){var ay=window.location.pathname;ay=ay.substring(0,ay.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+ay}else{if(ax){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"};this.createVersion=function(az){if(this.isFullStr(az)){var aB=az.split(".");
        if(aB.length==3){var ay=this.strToNum(aB[0],-1);var ax=this.strToNum(aB[1],-1);var aA=this.strToNum(aB[2],-1);if(ay>=0&&ax>=0&&aA>=0){return{major:ay,minor:ax,patch:aA}}}}return null};this.checkVersion=function(aA,az){var ay=this.createVersion(az);if(ay!=null){var ax=this.createVersion(aA);if(ax!=null){if(ax.major==ay.major){if(ax.minor==ay.minor){return ax.patch>=ay.patch}return ax.minor>ay.minor}return ax.major>ay.major}return false}return true};this.createKey=function(aB,az){if(aB==null){aB=4}if(az==null){az=10}var ay="";for(var aA=0;aA<aB;aA++){var ax=0;if(az==0){ax=Math.round(Math.random()*9)}else{if(az==1){ax=10+Math.round(Math.random()*51)}else{if(az==2){ax=10+Math.round(Math.random()*25)}else{if(az==3){ax=36+Math.round(Math.random()*25)}else{ax=Math.round(Math.random()*61)}}}}if(ax>=0&&ax<=9){ay+=""+ax}if(ax>=10&&ax<=35){ay+=String.fromCharCode(ax+55)}if(ax>=36&&ax<=61){ay+=String.fromCharCode(ax+61)}}return ay};this.isFullStr=function(ax){return ax!=null&&typeof ax=="string"&&ax.length>0
    };this.isBool=function(ax){if(ax!=null&&typeof ax=="boolean"){return true}return this.isFullStr(ax)};this.isNum=function(ax){if(ax!=null&&typeof ax=="number"){return true}return this.isFullStr(ax)&&isFinite(ax)};this.isArray=function(ax){if(ax!=null){return Array.isArray(ax)}return false};this.isEmpty=function(ay){if(ay!=null){if(typeof ay=="string"){return ay.length==0}var ax;for(ax in ay){return false}}return true};this.isValid=function(ay,ax){if(ay!=null){if(ax===true){if(typeof ay=="string"){return ay.length>0}}return true}return false};this.isId=function(ax){return this.isFullStr(ax)&&Z.test(ax)};this.isJson=function(ax){return this.isFullStr(ax)&&!aj.test(ax.replace(ap,""))};this.isHttpUrl=function(ax){return this.isFullStr(ax)&&(ax.indexOf("http://")==0||ax.indexOf("https://")==0)};this.strValue=function(ax){if(ax!=null){if(typeof ax=="string"){return ax}else{return""+ax}}return null};this.strFullCheck=function(ay,ax){return this.isFullStr(ay)?ay:ax};this.strTrim=function(ax){return this.isFullStr(ax)?ax.replace(ar,""):""
    };this.strClear=function(ax){return this.isFullStr(ax)?ax.replace(V,""):""};this.strTruncate=function(ax,ay){return this.isFullStr(ax)&&ay>0&&ax.length>ay?ax.substr(0,ay)+"...":ax};this.strShuffle=function(ax){return this.isFullStr(ax)?ax.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(ay,az,ax){if(this.isFullStr(ay)&&this.isFullStr(az)){return ay.replace(az,function(){return ax!=null?ax:""})}return ay};this.strReplaceMap=function(ay,az){if(this.isFullStr(ay)&&az!=null){for(var ax in az){ay=this.strReplace(ay,ax,az[ax])}}return ay};this.strToBool=function(ay,ax){if(ay!=null&&typeof ay=="boolean"){return ay}return this.isFullStr(ay)?ay=="true":ax};this.strToNum=function(ay,ax){if(ay!=null&&typeof ay=="number"){return ay}return this.isFullStr(ay)&&isFinite(ay)?ay*1:ax};this.strToAction=function(ax){return this.isFullStr(ax)?ax.toUpperCase().replace(Y,"_"):""};this.strToJsonStr=function(ax){return this.isFullStr(ax)?ax.replace(ab,'\\"'):""};this.strToUrlStr=function(ax){return this.isFullStr(ax)?encodeURIComponent(ax):""
    };this.strContainsToken=function(az,aA,ax,aB){if(this.isFullStr(az)&&this.isFullStr(aA)){var ay=az.indexOf(aA);if(ax==null){ax=0}if(aB==null){aB=az.length}return ay>=ax&&ay<aB}return false};this.strCountToken=function(aA,aB,ay,aC){var ax=0;if(this.isFullStr(aA)&&this.isFullStr(aB)){var az=0;if(ay!=null&&ay>=0){az=ay}while(az>=0&&az<aA.length){az=aA.indexOf(aB,az);if(az>=0){az+=aB.length;if(aC==null||az<aC){ax++}}}}return ax};this.htmlTrim=function(ax){return this.isFullStr(ax)?this.strTrim(ax.replace(ac,">").replace(ae,"/>").replace(ad,"<").replace(ag," ").replace(af," ").replace(ai," ")):""};this.htmlEscape=function(ax){return this.isFullStr(ax)?ax.replace(I,"&amp;").replace(U,"&quot;").replace(N,"&#39;").replace(aa,"&lt;").replace(S,"&gt;"):""};this.htmlUnescape=function(ax){return this.isFullStr(ax)?ax.replace(am,'"').replace(al,"'").replace(ak,"<").replace(ao,">").replace(an,"&"):""};this.htmlAttrEscape=function(ax){return this.isFullStr(ax)?ax.replace(U,"&quot;").replace(N,"&#39;"):""
    };this.htmlAttrUnescape=function(ax){return this.isFullStr(ax)?ax.replace(am,'"').replace(al,"'"):""};this.htmlTextEscape=function(ax){return this.isFullStr(ax)?this.htmlEscape(ax).replace(av,l.COMMON.HTML.BREAK).replace(aq,l.COMMON.HTML.TAB):""};this.base64Encode=function(aF){var aA="";if(this.isFullStr(aF)){var aG,aB,aD;var az,aE,ay,aC;var ax=0;aF=this.utf8Encode(aF);while(ax<aF.length){aG=aF.charCodeAt(ax++);aB=aF.charCodeAt(ax++);aD=aF.charCodeAt(ax++);az=aG>>2;aE=((aG&3)<<4)|(aB>>4);ay=((aB&15)<<2)|(aD>>6);aC=aD&63;if(isNaN(aB)){ay=aC=64}else{if(isNaN(aD)){aC=64}}aA+=T.charAt(az)+T.charAt(aE)+T.charAt(ay)+T.charAt(aC)}}return aA};this.base64EncodeUrl=function(ax){return this.isFullStr(ax)?this.base64Encode(ax).replace(J,"-").replace(L,"_").replace(K,","):""};this.base64EncodeId=function(ax){return this.isFullStr(ax)?this.base64Encode(ax).replace(J,"-").replace(L,"_").replace(K,"."):""};this.base64Decode=function(aF){var aA="";if(this.isFullStr(aF)){var aG,aB,aD;var az,aE,ay,aC;var ax=0;
        aF=aF.replace(P,"");while(ax<aF.length){az=T.indexOf(aF.charAt(ax++));aE=T.indexOf(aF.charAt(ax++));ay=T.indexOf(aF.charAt(ax++));aC=T.indexOf(aF.charAt(ax++));aG=(az<<2)|(aE>>4);aB=((aE&15)<<4)|(ay>>2);aD=((ay&3)<<6)|aC;aA+=String.fromCharCode(aG);if(ay!=64){aA+=String.fromCharCode(aB)}if(aC!=64){aA+=String.fromCharCode(aD)}}}return this.utf8Decode(aA)};this.base64DecodeUrl=function(ax){return this.isFullStr(ax)?this.base64Decode(ax.replace(R,"+").replace(ah,"/").replace(aw,"=")):""};this.base64DecodeId=function(ax){return this.isFullStr(ax)?this.base64Decode(ax.replace(R,"+").replace(ah,"/").replace(W,"=")):""};this.utf8Encode=function(aA){var ay="";if(this.isFullStr(aA)){aA=aA.replace(M,"\n");for(var ax=0;ax<aA.length;ax++){var az=aA.charCodeAt(ax);if(az<128){ay+=String.fromCharCode(az)}else{if((az>127)&&(az<2048)){ay+=String.fromCharCode((az>>6)|192);ay+=String.fromCharCode((az&63)|128)}else{ay+=String.fromCharCode((az>>12)|224);ay+=String.fromCharCode(((az>>6)&63)|128);ay+=String.fromCharCode((az&63)|128)
    }}}}return ay};this.utf8Decode=function(aB){var ay="";if(this.isFullStr(aB)){var aC=0;var az,aA,aD,ax;az=aA=aD=ax=0;while(aC<aB.length){az=aB.charCodeAt(aC);if(az<128){ay+=String.fromCharCode(az);aC++}else{if((az>191)&&(az<224)){aD=aB.charCodeAt(aC+1);ay+=String.fromCharCode(((az&31)<<6)|(aD&63));aC+=2}else{aD=aB.charCodeAt(aC+1);ax=aB.charCodeAt(aC+2);ay+=String.fromCharCode(((az&15)<<12)|((aD&63)<<6)|(ax&63));aC+=3}}}}return ay};this.createHash=function(az,ay){var ax=0;if(this.isFullStr(az)){if(ay===true){for(var aA=az.length;aA>=0;aA--){ax=((ax<<5)-ax)+az.charCodeAt(aA);ax&=ax}}else{for(var aA=0;aA<az.length;aA++){ax=((ax<<5)-ax)+az.charCodeAt(aA);ax&=ax}}}return ax};this.serialize=function(ax,aB){if(ax===undefined){return null}if(ax===null){if(aB!=null){return'"'+aB+'":null'}else{return"null"}}var aC=null;var az=typeof ax;if(Array.isArray(ax)){aC="[";var aA=0;for(var aE=0;aE<ax.length;aE++){var ay=this.serialize(ax[aE]);if(ay!=null){if(aA>0){aC+=","}aC+=ay;aA++}}aC+="]"}else{if(az=="object"){aC="{";
        var aA=0;for(var aD in ax){var ay=this.serialize(ax[aD],aD);if(ay!=null){if(aA>0){aC+=","}aC+=ay;aA++}}aC+="}"}else{if(az=="string"){aC='"'+ax.replace(O,"\\\\").replace(ab,'\\"').replace(av,"\\n")+'"'}else{if(az=="number"||az=="boolean"){aC=""+ax}}}}if(aC!=null){if(aB!=null){return'"'+aB+'":'+aC}else{return aC}}return null};this.deserialize=function(ax){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(ax)?JSON.parse(ax):null}else{return this.isJson(ax)?new Function("return "+ax)():null}}catch(ay){return null}};this.isSecureContext=function(){return X};this.secureUrl=function(ax){return this.isFullStr(ax)?ax.replace("http://","https://"):ax};this.getPrefixUrl=function(ax){return au(false,false)+this.strFullCheck(ax,"")};this.getHostUrl=function(ax){return au(true,false)+"/"+this.strFullCheck(ax,"")};this.getPathUrl=function(ax){return au(true,true)+"/"+this.strFullCheck(ax,"")};this.getAbsoluteUrl=function(ax){if(this.isFullStr(ax)&&!this.isHttpUrl(ax)){if(ax.indexOf("/")==0){return au(true,false)+ax
    }else{return au(true,true)+"/"+ax}}return ax};this.getRootPath=function(ax,aB){if(this.isFullStr(ax)){var aA=window.location.pathname;var az=aA.indexOf(ax);if(az>0){var ay=aA.substr(0,az);if(aB===true){if(ay.indexOf("/")==0){ay=ay.substr(1)}if(ay.lastIndexOf("/")==ay.length-1){ay=ay.substr(0,ay.length-1)}}else{if(ay.indexOf("/")!=0){ay="/"+ay}if(ay.lastIndexOf("/")!=ay.length-1){ay+="/"}}return ay}}return aB===true?"":"/"};this.exprEscape=function(aE,aD,aJ,aK,aF,aI,aA){if(this.isFullStr(aE)&&typeof aK=="function"){if(this.isFullStr(aD)&&this.isFullStr(aJ)&&typeof aF=="function"){if(aE.indexOf(aD)>=0&&aE.indexOf(aJ)>=0){var ax="";var ay=aD.length;var aC=aJ.length;var aG=aE.length;var aH=0;var aB=0;var az=0;while(aB>=0){aB=aE.indexOf(aD,aH);if(aB>=0){az=aE.indexOf(aJ,aB);if(az>0){if(aH<aB){ax+=aK(aE.substring(aH,aB),aA)}if(aB+ay<az){ax+=aF(aE.substring(aB+ay,az),aA)}aH=az+aC}else{aH=aB;break}}}if(aH<aG){ax+=aK(aE.substring(aH,aG),aA)}if(typeof aI=="function"){ax+=aI(aA)}return ax}}return aK(aE,aA)
    }return""}};var g=new function(){var N="h:mm/ampm";var S="h:mm:ss/ampm";var I="mm/dd/yy";var L="MM d, yyyy";var T="D mm/dd";var J="D mm/dd/yyyy";var P="DD, MM d, yyyy";var K=", ";var aa=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var U=["January","February","March","April","May","June","July","August","September","October","November","December"];var V=" AM";var ab=" PM";var X=" day";var W=" days";var Q=" hr";var O=" min";var M=" sec";var Y=function(ad){var af=ad%10;var ae=ad%100;if(af==1&&ae!=11){return"st"}if(af==2&&ae!=12){return"nd"}if(af==3&&ae!=13){return"rd"}return"th"};var ac=function(af,ag,ad){if(ag.length==ad){for(var ae=0;ae<ad;ae++){af[ae]=a.strTrim(ag[ae])}}};this.applyDictionary=function(ah){if(ah!=null){N=ah.getValueForKey("format:time",N);S=ah.getValueForKey("format:long_time",S);I=ah.getValueForKey("format:date",I);
        L=ah.getValueForKey("format:long_date",L);T=ah.getValueForKey("format:day",T);J=ah.getValueForKey("format:long_day",J);P=ah.getValueForKey("format:full_day",P);K=ah.getValueForKey("format:separator",K);V=ah.getValueForKey("unit:am",V);ab=ah.getValueForKey("unit:pm",ab);X=ah.getValueForKey("unit:day",X);W=ah.getValueForKey("unit:days",W);Q=ah.getValueForKey("unit:hours",Q);O=ah.getValueForKey("unit:minutes",O);M=ah.getValueForKey("unit:seconds",M);var ag=ah.getValueForKey("list:day_names","").split(",");var ae=ah.getValueForKey("list:day_long_names","").split(",");var ad=ah.getValueForKey("list:month_names","").split(",");var af=ah.getValueForKey("list:month_long_names","").split(",");ac(aa,ag,aa.length);ac(R,ae,R.length);ac(Z,ad,Z.length);ac(U,af,U.length)}};this.getTimestamp=function(){return new Date().getTime()};this.getNow=function(){var ad=new Date();if(k.DUMMY_DATE!=null){ad=new Date(k.DUMMY_DATE.getFullYear(),k.DUMMY_DATE.getMonth(),k.DUMMY_DATE.getDate(),ad.getHours(),ad.getMinutes(),ad.getSeconds())
    }if(k.TIME_OFFSET!=null&&k.TIME_OFFSET!=0){if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ad.getTime()+k.TIME_OFFSET+k.TIME_ZONE_OFFSET)}else{return new Date(ad.getTime()+k.TIME_OFFSET)}}else{if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ad.getTime()+k.TIME_ZONE_OFFSET)}}return ad};this.getFormatSeparator=function(){return K};this.getFormattedDateStr=function(au,ar,ad,ao,aq){var ag=0;var ah=0;var ap=0;var ai=0;var ak=0;if(au==null){au=new Date(ad,ao,aq)}if(typeof au=="number"){au=new Date(au)}ag=au.getDate();ah=au.getDay();ap=au.getMonth()+1;ai=au.getMonth();ak=au.getYear()+1900;var av=ar.replace("ddd",ag+Y(ag)).replace("dd",(ag<10?"0":"")+ag).replace("mm",((ap<10)?"0":"")+ap).replace("yyyy",ak).replace("d",ag).replace("m",ap).replace("yy",(""+ak).substring(2,4));var af=av.indexOf("D");var an=av.indexOf("DD");var am=av.indexOf("M");var ae=av.indexOf("MM");if(an>=0&&am<0){return av.replace("DD",R[ah])}else{if(af>=0&&am<0){return av.replace("D",aa[ah])
    }else{if(ae>=0&&af<0){return av.replace("MM",U[ai])}else{if(am>=0&&af<0){return av.replace("M",Z[ai])}else{if(af>=0&&am>=0){var aj=null;var at=null;var al=null;if(an>=0){aj=av.substring(0,an);at=R[ah];al=av.substring(an+2,av.length)}else{if(af>=0){aj=av.substring(0,af);at=aa[ah];al=av.substring(af+1,av.length)}}if(af>am){if(aj.indexOf("MM")>=0){aj=aj.replace("MM",U[ai])}else{if(aj.indexOf("M")>=0){aj=aj.replace("M",Z[ai])}}}else{if(al.indexOf("MM")>=0){al=al.replace("MM",U[ai])}else{if(al.indexOf("M")>=0){al=al.replace("M",Z[ai])}}}return aj+at+al}}}}}return av};this.getDayStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,T,ae,ad,ag)};this.getDayLongStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,J,ae,ad,ag)};this.getDayFullStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,P,ae,ad,ag)};this.getDateStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,I,ae,ad,ag)};this.getDateLongStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,L,ae,ad,ag)
    };this.getFormattedTimeStr=function(af,al,am,ag,ah){var ak=0;var ai=0;var ad=0;if(af==null){ak=am!=null?am*1:0;ai=ag!=null?ag*1:0;ad=ah!=null?ah*1:0}else{if(typeof af=="number"){af=new Date(af)}ak=af.getHours();ai=af.getMinutes();ad=af.getSeconds()}var aj=null;var ae=al.indexOf("/ampm");if(ae>0){al=al.substr(0,ae);aj=V;if(ak>12){aj=ab;ak-=12}}return al.replace("hh",(ak<10?"0":"")+ak).replace("mm",(ai<10?"0":"")+ai).replace("ss",(ad<10?"0":"")+ad).replace("h",ak).replace("m",ai).replace("s",ad)+(aj!=null?aj:"")};this.getTimeStr=function(af,ag,ad,ae){return this.getFormattedTimeStr(af,N,ag,ad,ae)};this.getTimeLongStr=function(af,ag,ad,ae){return this.getFormattedTimeStr(af,S,ag,ad,ae)};this.getRecordingStr=function(ad){if(typeof ad=="number"){ad=new Date(ad)}return this.getDayLongStr(ad)+K+this.getTimeStr(ad)};this.getFormattedDurationStr=function(ae,ah){var ad=Math.floor(ae/3600000);var ag=Math.floor((ae%3600000)/60000);var af=Math.floor((ae%60000)/1000);ah=a.exprEscape(ah,"[","]",function(ai){return ai
    },function(ai){if(ai.indexOf("h")==0||ai.indexOf("H")==0){return ad>0?ai:""}else{if(ai.indexOf("m")==0||ai.indexOf("M")==0){return ad>0||ag>0?ai:""}else{if(ai.indexOf("s")==0||ai.indexOf("S")==0){return ad>0||ag>0||af>0?ai:""}}}});return ah.replace("H","h").replace("M",(ad>0?"mm":"m")).replace("S",(ad>0||ag>0?"ss":"s")).replace("hh",(ad<10?"0":"")+ad).replace("mm",((ag<10)?"0":"")+ag).replace("ss",((af<10)?"0":"")+af).replace("h",ad).replace("m",ag).replace("s",af)};this.getDurationStr=function(ai,au){if(au==null){au="dhms"}var at=au.indexOf("D")!=-1;var al=au.indexOf("H")!=-1;var ap=au.indexOf("M")!=-1;var ar=au.indexOf("S")!=-1;au=au.toLowerCase();var ao=au.indexOf("d")!=-1;var ag=au.indexOf("h")!=-1;var ad=au.indexOf("m")!=-1;var af=au.indexOf("s")!=-1;if(au.indexOf("~")==0){if(ai<60000){if(af){au="s"}}else{if(ai<3600000){if(ad){au="m"}else{if(af){au="s"}}}else{if(ai<86400000){if(ag){au="h"}else{if(ad){au="m"}else{if(af){au="s"}}}}else{if(ao){au="d"}else{if(ag){au="h"}else{if(ad){au="m"
    }else{if(af){au="s"}}}}}}}}if(au=="d"){var am=Math.round(ai/86400000);return am==1?am+X:am+W}if(au=="h"){return Math.round(ai/3600000)+Q}if(au=="m"){return Math.round(ai/60000)+O}if(au=="s"){return Math.round(ai/1000)+M}var ah=ai;var aq=ag||ad||af;var am=ao?(aq?Math.floor(ah/86400000):Math.ceil(ah/86400000)):0;if(ao){ah=ai%86400000}aq=ad||af;var an=ag?(aq?Math.floor(ah/3600000):Math.ceil(ah/3600000)):0;if(ag){ah=ai%3600000}aq=af;var aj=ad?(aq?Math.floor(ah/60000):Math.ceil(ah/60000)):0;if(ad){ah=ai%60000}var ae=af?Math.floor(ah/1000):0;var ak="";if(ao&&(am>0||at)){ak+=am+(am==1?X:W)}if(ag&&(an>0||al)){if(ak.length>0){ak+=" "}ak+=an+Q}if(ad&&(aj>0||ap)){if(ak.length>0){ak+=" "}ak+=aj+O}if(af&&(ae>0||ar)){if(ak.length>0){ak+=" "}ak+=ae+M}if(af&&ak.length==0){return ae+M}if(ad&&ak.length==0){return aj+O}if(ag&&ak.length==0){return an+Q}return ak};this.getVideoStr=function(af,ag){if(ag==null){ag=3}var ae=ag>2?Math.floor(af/3600000):0;var ah=ag>1?Math.floor((af%3600000)/60000):0;var ad=ag>0?Math.floor(af%60000/1000):0;
        if(ag>2){return(ae<10?"0":"")+ae+":"+(ah<10?"0":"")+ah+":"+(ad<10?"0":"")+ad}else{if(ag>1){return(ah<10?"0":"")+ah+":"+(ad<10?"0":"")+ad}else{if(ag>0){return(ad<10?"0":"")+ad}}}return""}};var F=new function(){this.toTimeStr=function(I){return g.getTimeStr(I)};this.toTimeLongStr=function(I){return g.getTimeLongStr(I)};this.toTimeDayStr=function(I){return g.getFormattedDateStr(I,"D")+g.getFormatSeparator()+g.getTimeStr(I)};this.toTimeDayLongStr=function(I){return g.getFormattedDateStr(I,"D")+g.getFormatSeparator()+g.getTimeLongStr(I)};this.toDayStr=function(I){return g.getDayStr(I)};this.toDayLongStr=function(I){return g.getDayLongStr(I)};this.toDayFullStr=function(I){return g.getDayFullStr(I)};this.toDateStr=function(I){return g.getDateStr(I)};this.toDateLongStr=function(I){return g.getDateLongStr(I)};this.toRecordingStr=function(I){return g.getRecordingStr(I)};this.toDayTimeStr=function(I){return g.getDayStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDayTimeLongStr=function(I){return g.getDayLongStr(I)+g.getFormatSeparator()+g.getTimeStr(I)
    };this.toDayTimeFullStr=function(I){return g.getDayFullStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDateTimeStr=function(I){return g.getDateStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDateTimeLongStr=function(I){return g.getDateLongStr(I)+g.getFormatSeparator()+g.getTimeStr(I)}};var D=new function(){this.foreach=function(N,J){if(N!=null&&N.properties!=null&&typeof J=="function"){var L=N.properties;if(Array.isArray(L)){for(var M=0;M<L.length;M++){var K=L[M];if(K!=null&&K.key!=null&&K.value!=null){if(J(K.key,K.value)===true){break}}}}else{for(var I in L){var K=L[I];if(K!=null){if(J(I,K)===true){break}}}}}};this.getValue=function(N,J,I){if(N!=null&&N.properties!=null&&a.isFullStr(J)){var L=N.properties;if(Array.isArray(L)){for(var M=0;M<L.length;M++){var K=L[M];if(K!=null&&K.key==J&&K.value!=null){return K.value}}}else{if(L[J]!=null){return L[J]}}}return I!=null?I:null};this.get=function(K,J,I){return a.strValue(this.getValue(K,J,I))};this.getFullStr=function(K,J,I){return a.strFullCheck(this.getValue(K,J),I)
    };this.getNum=function(K,J,I){return a.strToNum(this.getValue(K,J),I)};this.getBool=function(K,J,I){return a.strToBool(this.getValue(K,J),I)};this.has=function(K,J,I){return a.isValid(this.getValue(K,J),I)};this.put=function(O,K,J){if(O!=null&&O.properties!=null&&a.isFullStr(K)&&J!=null){var M=O.properties;if(Array.isArray(M)){var I=false;for(var N=0;N<M.length;N++){var L=M[N];if(L!=null&&L.key==K){I=true;L.value=J;break}}if(!I){M.push({key:K,value:J})}}else{M[K]=J}}};this.remove=function(M,I){if(M!=null&&M.properties!=null&&a.isFullStr(I)){var K=M.properties;if(Array.isArray(K)){for(var L=0;L<K.length;L++){var J=K[L];if(J!=null&&J.key==I){J.value=null;break}}}else{K[I]=null}}};this.clear=function(I){if(I!=null&&I.properties!=null){I.properties={}}};this.count=function(J){var I=0;this.foreach(J,function(){I++});return I}};var y={STOPPED:1,PLAYING:2,PAUSED:3};var f={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,DEBUG:999,UNKNOWN:-1,actionToStr:function(I){switch(I){case this.LEFT:return"Left";
            case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";
            case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(J){var I=this[a.strToAction(J)];return I!=null?I:this.UNKNOWN
        },isNavigationAction:function(I){return I==this.LEFT||I==this.RIGHT||I==this.UP||I==this.DOWN||I==this.SCROLL_UP||I==this.SCROLL_DOWN||I==this.SWIPE_LEFT||I==this.SWIPE_RIGHT||I==this.SWIPE_UP||I==this.SWIPE_DOWN},isBaseAction:function(I){return I==this.EXECUTE||I==this.BACK||this.isNavigationAction(I)},isVideoAction:function(I){return I==this.PLAY||I==this.PAUSE||I==this.STOP||I==this.TOGGLE_PLAY_PAUSE||I==this.FORWARD||I==this.REWIND||I==this.RESTART},isChannelAction:function(I){return I==this.CHANNEL_UP||I==this.CHANNEL_DOWN},isVolumeAction:function(I){return I==this.VOLUME_UP||I==this.VOLUME_DOWN||I==this.MUTE||I==this.UNMUTE||I==this.TOGGLE_MUTE},isNumberAction:function(I){return I==this.KEY_0||I==this.KEY_1||I==this.KEY_2||I==this.KEY_3||I==this.KEY_4||I==this.KEY_5||I==this.KEY_6||I==this.KEY_7||I==this.KEY_8||I==this.KEY_9},isColorAction:function(I){return I==this.RED||I==this.GREEN||I==this.YELLOW||I==this.BLUE},isSystemAction:function(I){return I==this.SYSTEM||I==this.CURSOR_ON||I==this.CURSOR_OFF||I==this.SLEEP||I==this.WAKE_UP
        }};function H(){var I="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(K,N,M){if(a.isFullStr(K)&&N!=null){var L=encodeURIComponent(N);if(M!=null){var J=M;if(typeof M=="number"){J=new Date();J.setTime(J.getTime()+M)}if(typeof J.toGMTString=="function"){J=J.toGMTString()}L+=";expires="+J+";"}document.cookie=encodeURIComponent(K)+"="+L}};this.get=function(J,O){if(a.isFullStr(J)){var L=document.cookie.split(";");for(var N=0;N<L.length;N++){var K=L[N];var M=K.indexOf("=");if(M>0){if(J==decodeURIComponent(a.strTrim(K.substr(0,M)))){return decodeURIComponent(K.substr(M+1))}}}}return O!=null?O:null};this.getFullStr=function(J,K){return a.strFullCheck(this.get(J),K)};this.getNum=function(J,K){return a.strToNum(this.get(J),K)};this.getBool=function(J,K){return a.strToBool(this.get(J),K)};this.has=function(J,K){return a.isValid(this.get(J),K)};this.foreach=function(P){if(typeof P=="function"){var L=document.cookie.split(";");for(var N=0;N<L.length;N++){var K=L[N];var J=K.indexOf("=");if(J>0){var O=decodeURIComponent(a.strTrim(K.substr(0,J)));
        var M=decodeURIComponent(K.substr(J+1));if(P(O,M)===true){break}}}}};this.remove=function(J){if(a.isFullStr(J)){this.set(J,"",I)}};this.clear=function(){var J=this;this.foreach(function(K){J.set(K,"",I)})}}function d(){var U="exp:";var T=false;var I=0;var X=null;var Q=null;var Z=new H();var ab=null;var W=function(){if(ab!=null){var ad=ab;ab=null;if(ad.length>0){for(var ac=0;ac<ad.length;ac++){ad[ac]()}}}};var L=function(ac){if(ab==null){ab=[]}ab.push(ac)};var K=function(){if(!T){T=true;W()}};var N=function(ac,ad){if(ad!=null){ad*=1;return ad>=0&&ad<ac}return false};var R=function(){if(I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.pull=="function"){TVXStorageService.pull(function(ad,ac){if(I==2){X=ad!=null?ad:{};if(ac!=null){z.logger.error("Pull storage data failed: "+ac)}K()}});return true}return false};var J=function(){if(T&&I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.push=="function"){TVXStorageService.push(X,function(ac){if(ac!=null){z.logger.error("Push storage data failed: "+ac)
    }});return true}return false};var P=function(){if(T&&I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.clear=="function"){TVXStorageService.clear(function(ac){if(ac!=null){z.logger.error("Clear storage data failed: "+ac)}});return true}return false};var M=function(){I=1;X={};Q=null;K()};var S=function(){I=2;X={};Q=null;return R()};var V=function(){I=3;X=null;var ac=true;try{Q=window.localStorage}catch(ad){z.logger.warn("Access to local storage failed: "+ad);ac=false}if(ac){K()}return ac};var aa=function(){I=4;X=null;Q=null;K()};var O=function(){var ae=[];var af=g.getTimestamp();if(X!=null){for(var ac in X){if(ac!=null&&ac.indexOf(U)==0){if(N(af,X[ac])){ae.push(ac.substr(U.length))}}}for(var ad=0;ad<ae.length;ad++){delete X[ae[ad]];delete X[U+ae[ad]]}}else{if(Q!=null){for(var ad=0;ad<Q.length;ad++){var ac=Q.key(ad);if(ac!=null&&ac.indexOf(U)==0){if(N(af,Q.getItem(ac))){ae.push(ac.substr(U.length))}}}for(var ad=0;ad<ae.length;ad++){Q.removeItem(ae[ad]);Q.removeItem(U+ae[ad])}}}};
        var Y=function(){if(!S()){if(!V()){M()}}};this.set=function(ac,af,ae){if(a.isFullStr(ac)&&af!=null){var ad=-1;if(ae!=null){if(typeof ae=="number"){ad=new Date().getTime()+ae}else{if(typeof ae=="string"){ad=new Date(ae).getTime()}else{if(typeof ae.getTime=="function"){ad=ae.getTime()}}}}if(X!=null){X[ac]=af;if(ad>=0){X[U+ac]=ad}else{delete X[U+ac]}J()}else{if(Q!=null){Q.setItem(ac,af);if(ad>=0){Q.setItem(U+ac,ad)}else{Q.removeItem(U+ac)}}else{Z.set(ac,af,ae)}}}};this.get=function(ac,af){if(a.isFullStr(ac)){if(X!=null){var ae=false;var ad=X[U+ac];if(ad!=null){if(N(g.getTimestamp(),ad)){ae=true;delete X[ac];delete X[U+ac]}}if(!ae){var ag=X[ac];if(ag!=null){return ag}}}else{if(Q!=null){var ae=false;var ad=Q.getItem(U+ac);if(ad!=null){if(N(g.getTimestamp(),ad)){ae=true;Q.removeItem(ac);Q.removeItem(U+ac)}}if(!ae){var ag=Q.getItem(ac);if(ag!=null){return ag}}}else{return Z.get(ac,af)}}}return af!=null?af:null};this.getFullStr=function(ac,ad){return a.strFullCheck(this.get(ac),ad)};this.getNum=function(ac,ad){return a.strToNum(this.get(ac),ad)
        };this.getBool=function(ac,ad){return a.strToBool(this.get(ac),ad)};this.has=function(ac,ad){return a.isValid(this.get(ac),ad)};this.foreach=function(ae){if(typeof ae=="function"){if(X!=null){O();for(var ac in X){if(ac!=null&&ac.indexOf(U)!=0){if(ae(ac,X[ac])===true){break}}}}else{if(Q!=null){O();for(var ad=0;ad<Q.length;ad++){var ac=Q.key(ad);if(ac!=null&&ac.indexOf(U)!=0){if(ae(ac,Q.getItem(ac))===true){break}}}}else{Z.foreach(ae)}}}};this.remove=function(ac){if(a.isFullStr(ac)){if(X!=null){delete X[ac];delete X[U+ac];J()}else{if(Q!=null){Q.removeItem(ac);Q.removeItem(U+ac)}else{Z.remove(ac)}}}};this.clear=function(){if(X!=null){X={};P()}else{if(Q!=null){Q.clear()}else{Z.clear()}}};this.getType=function(){if(X!=null){return I==2?"service":"cache"}else{if(Q!=null){return"storage"}}return"cookies"};this.setType=function(ac){T=false;if(ac=="cache"){M()}else{if(ac=="service"){if(!S()){M()}}else{if(ac=="storage"){if(!V()){M()}}else{if(ac=="cookies"){aa()}else{K()}}}}};this.isReady=function(){return T
        };this.onReady=function(ac){if(typeof ac=="function"){if(!T){L(ac)}else{ac()}}};Y()}function A(J){var I=null;this.set=function(K,L){if(a.isFullStr(K)&&L!=null){if(I==null){I={}}I[K]=L}};this.get=function(K,L){if(I!=null&&a.isFullStr(K)&&I[K]!=null){return I[K]}return L!=null?L:null};this.getFullStr=function(K,L){return a.strFullCheck(this.get(K),L)};this.getNum=function(K,L){return a.strToNum(this.get(K),L)};this.getBool=function(K,L){return a.strToBool(this.get(K),L)};this.has=function(K,L){return a.isValid(this.get(K),L)};this.foreach=function(L){if(typeof L=="function"){if(I!=null){for(var K in I){if(L(K,I[K])===true){break}}}}};this.remove=function(K){if(I!=null&&a.isFullStr(K)){delete I[K]}};this.clear=function(){I={}};this.create=function(O){var N={};if(a.isFullStr(O)){var R=O.indexOf("?");if(R>=0){var M=O.substr(R+1).split("&");for(var K=0;K<M.length;K++){var P=M[K];if(a.isFullStr(P)){var L=P.indexOf("=");if(L>0){var Q=P.substr(0,L);var S=P.substr(L+1);N[decodeURIComponent(Q)]=decodeURIComponent(S)
    }else{N[decodeURIComponent(P)]=""}}}}}return N};this.build=function(N,M){var O=0;var K="";if(I!=null){for(var L in I){var P=a.strValue(I[L]);if(O>0){K+=(M!=null?M:"&")}if(a.isFullStr(P)){K+=(N===false?L:encodeURIComponent(L))+"="+(N===false?P:encodeURIComponent(P))}else{K+=(N===false?L:encodeURIComponent(L))}O++}}return K};if(J!=null){I=this.create(J)}else{I=this.create(document.URL)}}function e(I,J){this.getValue=function(K){if(a.isFullStr(K)){if(I!=null&&I[K]!=null){return I[K]}if(J!=null&&J[K]!=null){return J[K]}}return null};this.get=function(K){return a.strValue(this.getValue(K))};this.getFullStr=function(K){return a.strFullCheck(this.get(K),null)};this.getNum=function(K){return a.strToNum(this.getValue(K),0)};this.getBool=function(K){return a.strToBool(this.getValue(K),false)};this.has=function(K,L){return a.isValid(this.get(K),L)}}function h(){var I={};this.hasObserver=function(J){return a.isFullStr(J)&&I[J]!=null};this.hasObservers=function(){var J;for(J in I){return true}return false
    };this.addObserver=function(J,K){if(a.isFullStr(J)&&typeof K=="function"){I[J]=K}};this.removeObserver=function(J){if(a.isFullStr(J)){delete I[J]}};this.onEvent=function(J,K){if(a.isFullStr(J)){if(typeof K=="function"){this.addObserver(J,K)}else{this.removeObserver(J)}}};this.notifyObserver=function(J,K){if(a.isFullStr(J)&&I[J]!=null){I[J](K)}};this.notifyObservers=function(K){for(var J in I){I[J](K)}};this.clear=function(){I={}}}function G(){var I={};this.hasObserver=function(K,J){return a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null&&I[K][J]!=null};this.hasObservers=function(K){if(a.isFullStr(K)&&I[K]!=null){var J;for(J in I[K]){return true}}return false};this.addObserver=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)&&typeof L=="function"){if(I[K]==null){I[K]={}}I[K][J]=L}};this.removeObserver=function(K,J){if(a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null){delete I[K][J];if(!this.hasObservers(K)){delete I[K]}}};this.onEvent=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)){if(typeof L=="function"){this.addObserver(K,J,L)
    }else{this.removeObserver(K,J)}}};this.notifyObserver=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null&&I[K][J]!=null){I[K][J](L)}};this.notifyObservers=function(K,L){if(a.isFullStr(K)&&I[K]!=null){for(var J in I[K]){I[K][J](L)}}};this.clear=function(J){if(a.isFullStr(J)){if(I[J]!=null){I[J]={}}}else{I={}}}}function w(){var J=null;var K=[];var I=null;var L=false;this.delegate=null;this.execute=function(){if(J!=null){clearTimeout(J);J=null}if(I!=null){if(typeof I.action=="function"){I.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(I.action)}}I=null;this.process()}};this.process=function(){if(I==null&&K.length>0){I=K.shift();if(I.action==="stop"&&I.delay==null){L=true;I=null}else{if(I.delay!=null&&I.delay>0){var M=this;J=setTimeout(function(){J=null;M.execute()},I.delay)}else{this.execute()}}}};this.reset=function(){K=[];I=null;L=false;if(J!=null){clearTimeout(J);J=null}};this.push=function(M,N){if(M!=null){if(M==="reset"&&N==null){this.reset()
    }else{if(M==="execute"&&N==null){this.execute()}else{if(M==="clear"&&N==null){K=[]}else{if(M==="continue"&&N==null){L=false}else{K.push({action:M,delay:N})}}}}if(!L){this.process()}}};this.isBusy=function(){return J!=null}}function c(I,M){var K=null;var L=[];var J=0;this.size=I!=null?I:0;this.delay=M!=null?M:0;this.work=function(){if(K==null&&this.delay>0){var N=this;K=setTimeout(function(){K=null;J=0;N.process()},this.delay)}};this.process=function(){if(K==null&&L.length>0){if(J<this.size||this.size<=0||this.delay<=0){J++;var N=L.shift();N();this.process()}else{this.work()}}};this.reset=function(){L=[];J=0;if(K!=null){clearTimeout(K);K=null}};this.execute=function(N){if(typeof N=="function"){L.push(N);this.process()}};this.isBusy=function(){return K!=null}}function n(L){var K=null;var J=null;var I=false;this.delay=L!=null?L:0;this.start=function(M){var N=this;I=false;this.stop();J=M;if(this.delay>0){K=setTimeout(function(){N.finish()},this.delay)}else{N.finish()}};this.restart=function(){this.start(J)
    };this.stop=function(){if(K!=null){clearTimeout(K);K=null}};this.finish=function(){this.stop();if(!I){I=true;if(typeof J=="function"){J()}}};this.isBusy=function(){return K!=null}}function C(){var K=300;var L=0;var I=0;var J=null;this.click=function(M){var N=g.getTimestamp();if(J===M&&L>0&&N-L<=K){I++}else{I=1}J=M;L=N;return I}}function j(){var I="application/json";var N="application/xml";var K="text/plain";var Q="text/html";var P="application/x-www-form-urlencoded";var L=function(T){var S=null;try{S=new XMLHttpRequest()}catch(R){if(T!=null&&typeof T.error=="function"){T.error("Create XML HTTP request failed: "+R)}}return S};var O=function(R){if(R!=null&&typeof R.destroy=="function"){R.destroy()}};var M=function(V,W,T){var R=V.responseText;var U=true;if(R!=null){if(T==I){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(a.isFullStr(R)){R=JSON.parse(R)}else{U=false;if(W!=null&&typeof W.error=="function"){W.error("Validate JSON failed")}}}else{if(a.isJson(R)){R=new Function("return "+R)()
    }else{U=false;if(W!=null&&typeof W.error=="function"){W.error("Validate JSON failed")}}}}catch(S){U=false;if(W!=null&&typeof W.error=="function"){W.error("Create JSON failed: "+S)}}}else{if(T==N){R=V.responseXML}}}if(U&&W!=null&&typeof W.success=="function"){W.success(R)}};var J=function(X,U,W,ae,R){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(X,U,W,ae,R)===true){return}var aa=L(ae);if(aa!=null){var ab=I;var V=false;var ac=false;var S=true;var ad=null;if(R!=null){V=R.isForm===true;ac=R.withCredentials===true;S=R.accurateHeaders!==false;ad=R.headers;if(R.dataType!=null){if(R.dataType=="json"){ab=I}else{if(R.dataType=="xml"){ab=N}else{if(R.dataType=="text"){ab=K}else{if(R.dataType=="html"){ab=Q}else{ab=null}}}}}}try{if(ac){aa.withCredentials=true}aa.open(X,U,true)}catch(Z){O(aa);aa=null;if(ae!=null&&typeof ae.error=="function"){ae.error("Open connection failed: "+Z)}}if(aa!=null){aa.onreadystatechange=function(){if(aa!=null){if(aa.readyState==4){if((aa.status>=200&&aa.status<300)||(aa.status==0&&a.isFullStr(aa.responseText))){M(aa,ae,ab)
    }else{if(ae!=null&&typeof ae.error=="function"){var af=a.strValue(aa.status);if(a.isFullStr(aa.statusText)){af+=" "+aa.statusText}ae.error("Server responded with status: "+af)}}O(aa);aa=null}}};if(ab!=null){if(W!=null){aa.setRequestHeader("Content-Type",!V&&S?ab:P)}if(S){aa.setRequestHeader("Accept",ab)}}if(ad!=null){for(var Y in ad){var T=ad[Y];if(T!=null){aa.setRequestHeader(a.strValue(Y),a.strValue(T))}}}try{aa.send(W)}catch(Z){O(aa);aa=null;if(ae!=null&&typeof ae.error=="function"){ae.error("Send data failed: "+Z)}}}}};this.get=function(R,T,S){J("GET",R,null,T,S)};this.post=function(S,U,R,T){J("POST",S,U,R,T)};this.put=function(S,U,R,T){J("PUT",S,U,R,T)};this.del=function(R,T,S){J("DELETE",R,null,T,S)}}var r={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function u(){var O=[];var K=null;this.level=r.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var M=function(){var P=new Date();var W=P.getHours();var V=P.getMinutes();var T=P.getSeconds();
        var S=P.getMilliseconds();var R=P.getDate();var U=P.getMonth()+1;var Q=P.getFullYear();return Q+"-"+((U<10)?"0":"")+U+"-"+((R<10)?"0":"")+R+" "+((W<10)?"0":"")+W+":"+((V<10)?"0":"")+V+":"+((T<10)?"0":"")+T+"."+((S<10)?"00":((S<100)?"0":""))+S};var L=function(Q,P){var R="";switch(Q){case r.DEBUG:R=l.LOGGER.CSS.CLASS_DEBUG;break;case r.INFO:R=l.LOGGER.CSS.CLASS_INFO;break;case r.WARN:R=l.LOGGER.CSS.CLASS_WARN;break;case r.ERROR:R=l.LOGGER.CSS.CLASS_ERROR;break}return a.strReplace(l.LOGGER.HTML.LINE.replace("{LEVEL}",R),"{MESSAGE}",a.htmlEscape(P))};var J=function(Q,P){var R="";switch(Q){case r.DEBUG:R="DEBUG";break;case r.INFO:R="INFO";break;case r.WARN:R="WARNING";break;case r.ERROR:R="ERROR";break}return M()+" "+R+": "+P};var I=function(R,Q,S,P){if(S>0&&Q.length>S){Q=Q.substr(0,S)+"..."}O.push(L(R,Q));if(P>0){while(O.length>P){O.shift()}}};var N=function(Q,P){if(window.console!=null){switch(Q){case r.DEBUG:console.log(P);break;case r.INFO:console.info(P);break;case r.WARN:console.warn(P);
        break;case r.ERROR:console.error(P);break}}};this.registerControl=function(P,Q){K=P;if(Q!==false){this.print()}};this.unregisterControl=function(P){if(K==P){K=null}};this.print=function(){if(K!=null&&O.length>0){var Q="";for(var P=0;P<O.length;P++){Q+=O[P]+l.COMMON.HTML.BREAK}K.html(Q)}};this.clear=function(){O=[];this.print()};this.log=function(Q,P){if(Q<=this.level){var R=-1;switch(Q){case r.DEBUG:R=this.maxDebugLength;break;case r.INFO:R=this.maxInfoLength;break;case r.WARN:R=this.maxWarnLength;break;case r.ERROR:R=this.maxErrorLength;break}N(Q,P);I(Q,J(Q,P),R,this.maxLines);this.print()}};this.debug=function(P){this.log(r.DEBUG,P)};this.info=function(P){this.log(r.INFO,P)};this.warn=function(P){this.log(r.WARN,P)};this.error=function(P){this.log(r.ERROR,P)}}function p(){var L=null;var O=null;var N=0;var Q=null;var M=false;var K={};var P=function(R,S){K[R]=S;if(M){S()}};var I=function(R){delete K[R]};var J=function(){for(var R in K){K[R]()}};this.onReady=function(R,S){if(a.isFullStr(R)){if(typeof S=="function"){P(R,S)
    }else{I(R)}}};this.init=function(R){M=true;L=a.strFullCheck(R!=null?R.name:null,null);O=a.strFullCheck(R!=null?R.version:null,null);N=0;Q={};D.foreach(R,function(T,S){if(a.isFullStr(T)&&a.isFullStr(S)){Q[T]=S;N++}});J()};this.getName=function(){return L};this.getVersion=function(){return O};this.getSize=function(){return N};this.isInitialized=function(){return M};this.getValueForKey=function(S,R){if(Q!=null&&a.isFullStr(S)&&Q[S]!=null){return Q[S]}return R};this.getValueForExpr=function(S){if(a.isFullStr(S)){var R=S.indexOf("|");if(R>0){return this.getValueForKey(S.substr(0,R),S.substr(R+1))}else{return this.getValueForKey(S,"")}}return""};this.getData=function(){return{name:L,version:O,size:N,properties:Q}}}function i(){var K=null;var L={};var J=null;var I=null;this.delay=0;this.now=g.getNow();this.format="time";this.isRunning=function(){return K!=null};this.hasHook=function(M){return a.isFullStr(M)&&L[M]!=null};this.hasHooks=function(){var M;for(M in L){return true}return false};this.hasControl=function(){return J!=null
    };this.clearHooks=function(){L={}};this.addHook=function(M,N){if(a.isFullStr(M)&&typeof N=="function"){L[M]=N}};this.removeHook=function(M){if(a.isFullStr(M)){delete L[M]}};this.onTick=function(M,N){if(a.isFullStr(M)){if(typeof N=="function"){this.addHook(M,N)}else{this.removeHook(M)}}};this.registerControl=function(M){J=M};this.unregisterControl=function(M){if(J==M){J=null}};this.update=function(){if(J!=null){var M=null;switch(this.format){case"full":M=F.toDayTimeFullStr(this.now);break;case"date":M=F.toDayTimeLongStr(this.now);break;case"day":M=F.toTimeDayStr(this.now);break;case"time":M=F.toTimeStr(this.now);break;default:M="";break}if(J.clockText!=M){J.clockText=M;J.html(M)}}};this.validate=function(){this.now=g.getNow()};this.process=function(){if(K!=null){this.validate();this.delay=I!=null?this.now.getTime()-I.getTime():0;I=this.now;this.update();for(var M in L){L[M](this)}}};this.start=function(){if(K==null){var M=this;I=null;K=setInterval(function(){M.process()},1000)}};this.stop=function(){if(K!=null){clearInterval(K);
        K=null;I=null}}}var z={logger:new u(),cookies:new H(),storage:new d(),urlParams:new A(),ajax:new j()};var t=new function(){var I={};this.load=function(K,J,M,L){if(a.isFullStr(K)){if(J!=null&&I[J]!=null&&I[J].url==K&&I[J].data!=null){if(M!=null&&typeof M.success=="function"){M.success(I[J].data,true)}}else{z.ajax.get(K,{success:function(N){if(J!=null){I[J]={url:K,data:N}}if(M!=null&&typeof M.success=="function"){M.success(N,false)}},error:function(N){if(J!=null){I[J]={url:K,data:null}}if(M!=null&&typeof M.error=="function"){M.error(N)}}},L)}}};this.clearCache=function(J){if(J!=null){I[J]=null}};this.clear=function(){I={}}};function B(){var U={};var N={};var R={};var O={};var Q=function(W){if(W!=null&&W.response!=null){return a.strToNum(W.response.status,0)}return 0};var V=function(W){if(W!=null&&W.response!=null){return W.response.data}return null};var L=function(X){var W="";if(X!=null&&X.response!=null){if(a.isNum(X.response.status)){W+=""+X.response.status}if(a.isFullStr(X.response.text)){if(W.length>0){W+=" "
    }W+=X.response.text}if(a.isFullStr(X.response.message)){if(W.length>0){W+=": "}W+=X.response.message}}return W.length>0?W:"Unknown error"};var T=function(W,X){R[W]=X;for(var Y in U){if(U[Y]!=null){X(U[Y])}}};var I=function(W){delete R[W]};var K=function(W){for(var X in R){R[X](W)}};var M=function(W,X){if(W!=null&&typeof X=="function"){O[W]=X;for(var Y in N){if(N[Y]!=null){X(N[Y])}}}};var S=function(W){if(W!=null){delete O[W]}};var J=function(W){for(var X in O){O[X](W)}};var P=function(W){return W!=null&&W.indexOf("temp:")!=0};this.onReady=function(W,X){if(a.isFullStr(W)){if(typeof X=="function"){T(W,X)}else{I(W)}}};this.onError=function(W,X){if(a.isFullStr(W)){if(typeof X=="function"){M(W,X)}else{S(W)}}};this.onCompleted=function(W,X){this.onReady(W,X);this.onError(W,X)};this.foreachEntry=function(X){if(typeof X=="function"){for(var W in U){if(U[W]!=null){if(X(U[W])===true){break}}}}};this.foreachError=function(X){if(typeof X=="function"){for(var W in N){if(N[W]!=null){if(X(N[W])===true){break
    }}}}};this.getData=function(W){return W!=null&&U[W]!=null?U[W].data:null};this.getEntry=function(W){return W!=null?U[W]:null};this.setEntry=function(X,W){if(X!=null&&W!=null){U[X]=W;N[X]=null;K(W)}};this.getError=function(W){return W!=null?N[W]:null};this.setError=function(W,X){if(W!=null&&X!=null){U[W]=null;N[W]=X;J(X)}};this.shouldStoreData=function(W){return P(W)};this.createData=function(W,X){return X};this.putData=function(X,Z,W,Y){if(X!=null&&Z!=null){z.ajax.put(X,Z,{success:function(aa){if(aa.response!=null&&aa.response.status==200){if(W!=null&&typeof W.success=="function"){W.success(aa.response.data)}}else{if(W!=null&&typeof W.error=="function"){W.error(L(aa),Q(aa),V(aa))}}},error:function(aa){if(W!=null&&typeof W.error=="function"){W.error(aa,0,null)}}},Y)}};this.postData=function(X,Z,W,Y){if(X!=null&&Z!=null){z.ajax.post(X,Z,{success:function(aa){if(aa.response!=null&&aa.response.status==200){if(W!=null&&typeof W.success=="function"){W.success(aa.response.data)}}else{if(W!=null&&typeof W.error=="function"){W.error(L(aa),Q(aa),V(aa))
        }}},error:function(aa){if(W!=null&&typeof W.error=="function"){W.error(aa,0,null)}}},Y)}};this.deleteData=function(W,Y,X){if(W!=null){z.ajax.del(W,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(Y!=null&&typeof Y.success=="function"){Y.success(Z.response.data)}}else{if(Y!=null&&typeof Y.error=="function"){Y.error(L(Z),Q(Z),V(Z))}}},error:function(Z){if(Y!=null&&typeof Y.error=="function"){Y.error(Z,0,null)}}},X)}};this.loadData=function(Z,X,aa,Y){if(Z!=null){var W=this;if(P(Z)){this.clearData(Z)}if(X!=null){z.ajax.get(X,{success:function(ae){var ad=false;if(ae.response!=null&&ae.response.status==200&&ae.response.data!=null){ad=true;ae=ae.response.data}if(!ad&&ae.response!=null){var ab={id:Z,error:L(ae),status:Q(ae),reason:V(ae)};var ac=true;if(aa!=null&&typeof aa.error=="function"){ac=aa.error(ab)}if(ac!==false&&P(Z)){W.setError(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}else{var ab={id:Z,data:W.createData(Z,ae)};var ac=true;if(aa!=null&&typeof aa.success=="function"){ac=aa.success(ab)
        }if(ac!==false&&P(Z)){W.setEntry(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}},error:function(ad){var ab={id:Z,error:ad,status:0,reason:null};var ac=true;if(aa!=null&&typeof aa.error=="function"){ac=aa.error(ab)}if(ac!==false&&P(Z)){W.setError(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}},Y)}}};this.clearData=function(W){if(W!=null){U[W]=null;N[W]=null}};this.clear=function(){U={};N={}}}function q(){var N={};var Q={};var X={};var J={};var I=function(aa){if(aa!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(aa)}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(aa)}}}catch(Z){z.logger.error("Create blob URL failed: "+Z)}}return null};var T=function(Z){if(Z!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(Z)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(Z)
    }}}catch(aa){z.logger.error("Dispose blob URL failed: "+aa)}}};var Y=function(ab){var aa=null;try{aa=new XMLHttpRequest()}catch(Z){if(ab!=null&&typeof ab.error=="function"){ab.error("Create XML HTTP request failed: "+Z)}}return aa};var P=function(Z){if(Z!=null&&typeof Z.destroy=="function"){Z.destroy()}};var S=function(Z,aa){if(Z.response!=null){if(aa!=null&&typeof aa.success=="function"){aa.success(Z.response)}}else{if(aa!=null&&typeof aa.error=="function"){aa.error("Load blob failed: Response is missing")}}};var K=function(ad,ab,ac,aj,Z){var ag=Y(aj);if(ag!=null){var ah=false;var ai=null;if(Z!=null){ah=Z.withCredentials===true;ai=Z.headers}try{if(ah){ag.withCredentials=true}ag.responseType="blob";ag.open(ad,ab,true)}catch(af){P(ag);ag=null;if(aj!=null&&typeof aj.error=="function"){aj.error("Open connection failed: "+af)}}if(ag!=null){ag.onreadystatechange=function(){if(ag!=null){if(ag.readyState==4){if(ag.status>=200&&ag.status<300){S(ag,aj)}else{if(aj!=null&&typeof aj.error=="function"){var ak=a.strValue(ag.status);
        if(a.isFullStr(ag.statusText)){ak+=" "+ag.statusText}aj.error("Server responded with status: "+ak)}}P(ag);ag=null}}};if(ai!=null){for(var ae in ai){var aa=ai[ae];if(aa!=null){ag.setRequestHeader(a.strValue(ae),a.strValue(aa))}}}try{ag.send(ac)}catch(af){P(ag);ag=null;if(aj!=null&&typeof aj.error=="function"){aj.error("Send data failed: "+af)}}}}};var M=function(Z,aa,ae,ac,af,ab,ad){if(ae!=null){Z.clearBlob(ae);if(ac!=null){K(aa,ac,af,{success:function(ah){var ag={id:ae,blob:ah,url:I(ah)};if(ab!=null&&typeof ab.success=="function"){ab.success(ag)}Z.setEntry(ae,ag);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ag)}},error:function(ah){var ag={id:ae,error:ah,status:0,reason:null};if(ab!=null&&typeof ab.error=="function"){ab.error(ag)}Z.setError(ae,ag);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ag)}}},ad)}}};var L=function(Z,aa){X[Z]=aa;for(var ab in N){if(N[ab]!=null){aa(N[ab])}}};var O=function(Z){delete X[Z]};var R=function(Z){for(var aa in X){X[aa](Z)}};var V=function(Z,aa){if(Z!=null&&typeof aa=="function"){J[Z]=aa;
        for(var ab in Q){if(Q[ab]!=null){aa(Q[ab])}}}};var U=function(Z){if(Z!=null){delete J[Z]}};var W=function(Z){for(var aa in J){J[aa](Z)}};this.onReady=function(Z,aa){if(a.isFullStr(Z)){if(typeof aa=="function"){L(Z,aa)}else{O(Z)}}};this.onError=function(Z,aa){if(a.isFullStr(Z)){if(typeof aa=="function"){V(Z,aa)}else{U(Z)}}};this.onCompleted=function(Z,aa){this.onReady(Z,aa);this.onError(Z,aa)};this.foreachEntry=function(aa){if(typeof aa=="function"){for(var Z in N){if(N[Z]!=null){if(aa(N[Z])===true){break}}}}};this.foreachError=function(aa){if(typeof aa=="function"){for(var Z in Q){if(Q[Z]!=null){if(aa(Q[Z])===true){break}}}}};this.getBlob=function(Z){return Z!=null&&N[Z]!=null?N[Z].blob:null};this.getUrl=function(Z){return Z!=null&&N[Z]!=null?N[Z].url:null};this.getEntry=function(Z){return Z!=null?N[Z]:null};this.setEntry=function(aa,Z){if(aa!=null&&Z!=null){T(N[aa]!=null?N[aa].url:null);N[aa]=Z;Q[aa]=null;R(Z)}};this.getError=function(Z){return Z!=null?Q[Z]:null};this.setError=function(Z,aa){if(Z!=null&&aa!=null){T(N[Z]!=null?N[Z].url:null);
        N[Z]=null;Q[Z]=aa;W(aa)}};this.executeBlob=function(ac,aa,ad,Z,ab){M(this,"POST",ac,aa,ad,Z,ab)};this.loadBlob=function(ab,Z,ac,aa){M(this,"GET",ab,Z,null,ac,aa)};this.clearBlob=function(Z){if(Z!=null){T(N[Z]!=null?N[Z].url:null);N[Z]=null;Q[Z]=null}};this.clear=function(){for(var Z in N){T(N[Z]!=null?N[Z].url:null)}N={};Q={}}}function v(N){var K="srq";var J=0;var I={};var O=0;this.timeout=N!=null?N:30000;var L=function(P,S){J++;O++;var R=K+J+"_"+g.getTimestamp();var Q={timeout:new n(P),callback:S};I[R]=Q;Q.timeout.start(function(){M(R,null,"Request timed out","timeout")});return R};var M=function(S,T,P,Q){if(S!=null){var R=I[S];if(R!=null){O--;R.timeout.stop();delete I[S];if(P!=null){if(R.callback!=null&&typeof R.callback.error=="function"){R.callback.error(P,Q)}}else{if(R.callback!=null&&typeof R.callback.success=="function"){R.callback.success(T)}}}}};this.startRequest=function(P){return L(this.timeout,P)};this.getRequestsCount=function(){return O};this.isRequestPending=function(P){return P!=null&&I[P]!=null
    };this.handleData=function(P,Q){M(P,Q!=null?Q:null,null)};this.handleError=function(Q,R,P){M(Q,null,R!=null?R:"Unknown error",P!=null?P:null)}}function b(){var L=0;var K=null;var J=function(){if(K!=null){var N=K;K=null;if(N.length>0){for(var M=0;M<N.length;M++){N[M]()}}}};var I=function(M){if(K==null){K=[]}K.push(M)};this.isBusy=function(){return L>0};this.start=function(M){if(M===true){L=1}else{L++}};this.stop=function(M){if(L>0){if(M===true){L=0}else{if(L>0){L--}}if(L==0){J()}}};this.onReady=function(M){if(typeof M=="function"){if(L>0){I(M)}else{M()}}}}function o(S){var T=4;var Q=256;var U=null;var R=null;var ab=function(al){return a.isFullStr(al)&&al.length>=T&&al.length<Q&&al.length%2==0};var ag=function(al){return al&al};var J=function(al,am){return ag(((al<<5)-al)+am)};var W=function(al){return al.length==1?"0"+al:al};var ad=function(am,al){if(al>0){while(am<0){am+=al}while(am>=al){am-=al}}return am};var Z=function(an,am,al){an+=3;return an+am>=al?0:an};var M=function(al,am){al++;
        return al>=am?0:al};var aa=function(al,am){return am?-al:al};var ah=function(ao,ap,an,al,am){return ad(ap+aa(al,am)*ac(ao,an),Q)};var O=function(ar,al,aq,at,am,ap,an){var ao=ar!=null&&aq!=null?ar.indexOf(aq):-1;return ao>=0?aj(ar,ad(ao+aa(ap,an)*(at+ac(al,am)),ar.length)):aq};var N=function(am,al){return al!=null?(am!=null?am+al:al):am};var aj=function(al,am){return al!=null&&am>=0&&am<al.length?al.charAt(am):null};var ac=function(al,am){return al!=null&&am>=0&&am<al.length?al.charCodeAt(am):0};var P=function(aq,at,al,ap,am,ao){var ar=aj(aq,ap);if(ar!=null){var an=Math.random()>0.5?at.indexOf(ar):at.lastIndexOf(ar);return an>=0?W(ah(al,an,am,1,ao).toString(16)):null}return null};var K=function(aq,al,ap,am,ao){var at=aj(aq,ap);var ar=aj(aq,ap+1);var an=at!=null&&ar!=null?parseInt(at+ar,16):-1;return an>=0?ah(al,an,am,-1,ao):-1};var ai=function(ar,aw,am){var av=null;if(a.isFullStr(ar)&&ar.length%2==0&&ab(aw)&&ab(am)){var aq=ar.length;var at=am.length;var an=0;var ap=0;var ao=false;for(var al=0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              al<aq;al+=2){var au=aj(aw,K(ar,am,al,an+ap,ao));if(au!=null){av=N(av,au)}else{return null}an=Z(an,ap,at);if(an==0){ap=M(ap,at)}ao=!ao}}return av};var L=function(at,ao,am){var aw=null;if(a.isFullStr(at)&&ab(ao)&&ab(am)){var av=at.length;var au=am.length;var an=0;var ar=0;var aq=false;for(var al=0;al<av;al++){var ap=P(at,ao,am,al,an+ar,aq);if(ap!=null){aw=N(aw,ap)}else{return null}an=Z(an,ar,au);if(an==0){ar=M(ar,au)}aq=!aq}}return aw};var ak=function(am){var al=am<0?-1:1;return al*((am*al)%Q)};var ae=function(ap){var am=null;if(ab(ap)){var ao=ap.length;var an=ao/2;for(var aq=0;aq<an;aq++){var ar=aj(ap,aq);var al=aj(ap,ao-1-aq);if(am==null||am.indexOf(ar)<0){am=N(am,ar)}if(am.indexOf(al)<0){am=N(am,al)}}}return am};var I=function(ao,aq,ap){var an=0;if(ao!=null&&aq!=null&&ap!=null){var ar=ao.length;var al=ap.length;an=ar;for(var am=0;am<al;am++){an=J(an,ac(ap,am))}for(var am=0;am<ar;am++){if(aq.indexOf(aj(ao,am))<0){an=J(an,ac(ao,am))}}}return ak(an)};var V=function(at,aw,am,au){var ao=null;
        if(a.isFullStr(at)&&ab(aw)&&ab(am)){var ax=I(at,aw,am);var av=at.length;var ar=am.length;var an=0;var aq=0;var ap=false;for(var al=0;al<av;al++){ao=N(ao,O(aw,am,aj(at,al),ax,an+aq,au,ap));an=Z(an,aq,ar);if(an==0){aq=M(aq,ar)}ap=!ap}}return ao};var af=function(){return L(a.strShuffle(S),S,S)};var X=function(al,am){return ai(al,ai(am,S,S),S)};var Y=function(){if(R==null){R=ae(S)}return R};this.createSteam=function(){U=af();return U};this.resolveToken=function(al){return X(al,U)};this.transformString=function(al){return V(al,Y(),S,1)};this.normalizeString=function(al){return V(al,Y(),S,-1)}}var m=new function(){var V=16;var W=32;var I="tvx:device_id";var K=/^[a-z-]+_[A-Za-z0-9]+_[0-9]+([0-9#])*$/;var S=new o("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");var Y=new o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var T=new o(a.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));
        var X=new o("tuNiBAmqXwPd-aUIRFHn2YpVQ9gkD7zWC4jMGycJ8v65SrZ0.hO1eLfKboxEl3sT");var O=function(ac,ab){return ac!=null&&ab>=0&&ab<ac.length?ac.charAt(ab):"0"};var Q=function(ab){return ab.indexOf("-")==0?"0"+ab.substr(1):ab};var Z=function(ac,af,ab){var ad=0;for(var ae=ac.length;ae<ab;ae++){ac+=O(af,ad++)}return ac};var P=function(ab){return Z(Q(""+a.createHash(ab)),Q(""+a.createHash(ab,true)),V)};var aa=function(ab){return a.isFullStr(ab)&&K.test(ab)};var R=function(ab){if(a.isFullStr(ab)&&ab.length<W){return Z(ab+"#",Q(""+a.createHash(ab))+Q(""+a.createHash(ab,true)),W)}return ab};var N=function(ab){return a.isFullStr(ab)?a.base64DecodeId(X.normalizeString(ab)):null};var L=function(ab){return a.isFullStr(ab)?X.transformString(a.base64EncodeId(R(ab))):null};var M=function(){z.storage.remove(I)};var J=function(ac){var ab=z.storage.getFullStr(I,null);if(!aa(N(ab))){ab=null}if(ab==null&&ac!=null&&ac.info!=null&&ac.info.platform!=null){ab=L(ac.info.platform+"_"+a.createKey(16)+"_"+g.getTimestamp());
            z.storage.set(I,ab)}return ab};var U=function(ab){if(ab!=null&&ab.info!=null&&ab.info.platform!=null&&ab.info.system!=null){if(ab.info.system.macAddress!=null){return L(ab.info.platform+"_"+ab.info.system.macAddress)}else{if(ab.info.system.deviceId!=null){return L(ab.info.platform+"_"+ab.info.system.deviceId)}else{if(ab.info.id!=null){return L(ab.info.platform+"_"+ab.info.id)}}}}return J(ab)};this.checkOrigin=function(ab){if(a.isFullStr(ab)){return ab=="null"||ab=="http://msx.benzac.de"||ab=="https://msx.benzac.de"||ab=="ms-appx://52357benzac.de.mediastationx"||ab=="http://localhost"||ab.indexOf("http://localhost:")==0||ab.indexOf("file://")==0}return false};this.transformString=function(ab){return S.transformString(ab)};this.normalizeString=function(ab){return S.normalizeString(ab)};this.createHashKey=function(ab,ac){if(ac=="local"){return T.transformString(P(ab))}return Y.transformString(P(ab))};this.clearDeviceId=function(){M()};this.getDeviceId=function(ab){return U(ab)}};var s=new function(){var K=new b();
        var U=null;var R=false;var Q=function(X){if(U!=null){var V=U;U=null;if(V.length>0){for(var W=0;W<V.length;W++){V[W](X)}}}};var J=function(V){if(U==null){U=[]}U.push(V)};var O=function(W,V){if(a.isFullStr(V)){if(a.isFullStr(W)){return V==W}return false}return true};var L=function(V){return V!=null&&V.info!=null&&V.info.framework!=null?a.strFullCheck(V.info.framework.name,null):null};var N=function(V){return V!=null&&V.info!=null&&V.info.framework!=null?a.strFullCheck(V.info.framework.version,null):null};var I=function(V){return V!=null&&V.info!=null&&V.info.application!=null?a.strFullCheck(V.info.application.name,null):null};var P=function(V){return V!=null&&V.info!=null&&V.info.application!=null?a.strFullCheck(V.info.application.version,null):null};var M=function(V){return V!=null&&V.info!=null&&V.info.content!=null?a.strFullCheck(V.info.content.name,null):null};var T=function(V){return V!=null&&V.info!=null&&V.info.content!=null?a.strFullCheck(V.info.content.version,null):null};var S=function(){K.start();
            K.start();window.addEventListener("load",function(){K.stop()});z.storage.onReady(function(){K.stop()})};this.createCanvas=function(X,W,V){return a.strReplace(l.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(W,k.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(V,k.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(X))};this.createIFrame=function(V,W){return a.strReplace(a.strReplace(l.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(V)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(W,"about:blank")))};this.isReady=function(){return !K.isBusy()};this.onReady=function(V){K.onReady(V)};this.startInitService=function(){K.start()};this.stopInitService=function(){K.stop()};this.areSettingsValidated=function(){return R};this.invalidateSettings=function(){R=false};this.validateSettings=function(ad){R=true;var al=null;var Y=null;var ao=null;var ap=null;var af=null;var ax=null;var aw=null;var am=null;var ar=null;var Z=null;var V=null;var ab=null;var at=null;var ag=null;var ae=null;var ai=null;var aq=null;var au=null;
            var X=null;var an=null;var W=null;var aj=null;var ah=null;var ak=null;var ac=null;var aa=null;var av=null;if(ad!=null&&ad.info!=null){aw=ad.info.platform;am=ad.info.id;if(ad.info.time!=null){al=ad.info.time.offset;Y=ad.info.time.zoneOffset}if(ad.info.screen!=null){ao=ad.info.screen.width;ap=ad.info.screen.height;af=ad.info.screen.factor;ax=ad.info.screen.zoomFactor}if(ad.info.framework!=null&&ad.info.framework.settings!=null){ar=ad.info.framework.settings.animate;Z=ad.info.framework.settings.transform;V=ad.info.framework.settings.input;ab=ad.info.framework.settings.remote;at=ad.info.framework.settings.layout;ag=ad.info.framework.settings.scale;ae=ad.info.framework.settings.zoom;ai=ad.info.framework.settings.center;aq=ad.info.framework.settings.background;au=ad.info.framework.settings.leave;X=ad.info.framework.settings.exit;an=ad.info.framework.settings.back;W=ad.info.framework.settings.volume;aj=ad.info.framework.settings.busy;ah=ad.info.framework.settings.speed;ak=ad.info.framework.settings.playback;
                ac=ad.info.framework.settings.fullscreen;aa=ad.info.framework.settings.suspend;av=ad.info.framework.settings.secure}}k.TIME_OFFSET=a.strToNum(al,k.TIME_OFFSET);k.TIME_ZONE_OFFSET=a.strToNum(Y,k.TIME_ZONE_OFFSET);k.SCREEN_WIDTH=a.strToNum(ao,k.SCREEN_WIDTH);k.SCREEN_HEIGHT=a.strToNum(ap,k.SCREEN_HEIGHT);k.SCREEN_FACTOR=a.strToNum(af,k.SCREEN_FACTOR);k.ZOOM_FACTOR=a.strToNum(ax,k.ZOOM_FACTOR);k.PLATFORM=a.strFullCheck(aw,k.PLATFORM);k.ID=a.strFullCheck(am,k.ID);k.ANIMATE=a.strToNum(ar,k.ANIMATE);k.TRANSFORM=a.strToNum(Z,k.TRANSFORM);k.INPUT=a.strToNum(V,k.INPUT);k.REMOTE=a.strToNum(ab,k.REMOTE);k.LAYOUT=a.strFullCheck(at,k.LAYOUT);k.SCALE=a.strFullCheck(ag,k.SCALE);k.ZOOM=a.strFullCheck(ae,k.ZOOM);k.CENTER=a.strToNum(ai,k.CENTER);k.BACKGROUND=a.strToNum(aq,k.BACKGROUND);k.LEAVE=a.strToNum(au,k.LEAVE);k.EXIT=a.strToNum(X,k.EXIT);k.BACK=a.strToNum(an,k.BACK);k.VOLUME=a.strToNum(W,k.VOLUME);k.BUSY=a.strToNum(aj,k.BUSY);k.SPEED=a.strToNum(ah,k.SPEED);k.PLAYBACK=a.strToNum(ak,k.PLAYBACK);k.FULLSCREEN=a.strToNum(ac,k.FULLSCREEN);
            k.SUSPEND=a.strToNum(aa,k.SUSPEND);k.SECURE=a.strToNum(av,k.SECURE);Q(ad)};this.onValidatedSettings=function(V){if(typeof V=="function"){if(R){V()}else{J(V)}}};this.handleSettingsEvent=function(W){if(W!=null&&a.isFullStr(W.event)&&W.event.indexOf("settings:")==0){var V=W.event.substr(9);if(V=="animate"){k.ANIMATE=a.strToNum(W.value,k.ANIMATE)}else{if(V=="transform"){k.TRANSFORM=a.strToNum(W.value,k.TRANSFORM)}else{if(V=="input"){k.INPUT=a.strToNum(W.value,k.INPUT)}else{if(V=="remote"){k.REMOTE=a.strToNum(W.value,k.REMOTE)}else{if(V=="layout"){k.LAYOUT=a.strToNum(W.value,k.LAYOUT)}else{if(V=="scale"){k.SCALE=a.strFullCheck(W.value,k.SCALE)}else{if(V=="zoom"){k.ZOOM=a.strFullCheck(W.value,k.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(V){return a.strFullCheck(L(V),"-")+" "+a.strFullCheck(N(V),"-")};this.getApplicationInfo=function(V){return a.strFullCheck(I(V),"-")+" "+a.strFullCheck(P(V),"-")};this.getContentInfo=function(V){return a.strFullCheck(M(V),"-")+" "+a.strFullCheck(T(V),"-")};
        this.checkFramework=function(X,W,V){return a.checkVersion(N(X),W)&&O(L(X),V)};this.checkApplication=function(X,W,V){return a.checkVersion(P(X),W)&&O(I(X),V)};this.checkContent=function(X,W,V){return a.checkVersion(T(X),W)&&O(M(X),V)};this.isSameContentState=function(W,V){return W!=null&&V!=null&&W.start===V.start&&W.restored===V.restored&&W.menuId===V.menuId&&W.menuFlag===V.menuFlag&&W.menuFocus===V.menuFocus&&W.menuIndex===V.menuIndex&&W.menuSize===V.menuSize&&W.contentId===V.contentId&&W.contentFlag===V.contentFlag&&W.contentFocus===V.contentFocus&&W.contentIndex===V.contentIndex&&W.contentSize===V.contentSize&&W.contentVisible===V.contentVisible&&W.panelId===V.panelId&&W.panelFlag===V.panelFlag&&W.panelFocus===V.panelFocus&&W.panelIndex===V.panelIndex&&W.panelSize===V.panelSize&&W.panelVisible===V.panelVisible&&W.videoVisible===V.videoVisible&&W.videoActive===V.videoActive&&W.playerVisible===V.playerVisible&&W.slideshowVisible===V.slideshowVisible&&W.volumeVisible===V.volumeVisible&&W.logVisible===V.logVisible
        };this.createChangedContentState=function(W,V){return V!=null?{init:V.init,initChanged:W==null||W.init!==V.init,start:V.start,startChanged:W==null||W.start!==V.start,restored:V.restored,restoredChanged:W==null||W.restored!==V.restored,menuId:V.menuId,menuIdChanged:W==null||W.menuId!==V.menuId,menuFlag:V.menuFlag,menuFlagChanged:W==null||W.menuFlag!==V.menuFlag,menuFocus:V.menuFocus,menuFocusChanged:W==null||W.menuFocus!==V.menuFocus,menuIndex:V.menuIndex,menuIndexChanged:W==null||W.menuIndex!==V.menuIndex,menuSize:V.menuSize,menuSizeChanged:W==null||W.menuSize!==V.menuSize,contentId:V.contentId,contentIdChanged:W==null||W.contentId!==V.contentId,contentFlag:V.contentFlag,contentFlagChanged:W==null||W.contentFlag!==V.contentFlag,contentFocus:V.contentFocus,contentFocusChanged:W==null||W.contentFocus!==V.contentFocus,contentIndex:V.contentIndex,contentIndexChanged:W==null||W.contentIndex!==V.contentIndex,contentSize:V.contentSize,contentSizeChanged:W==null||W.contentSize!==V.contentSize,contentVisible:V.contentVisible,contentVisibleChanged:W==null||W.contentVisible!==V.contentVisible,panelId:V.panelId,panelIdChanged:W==null||W.panelId!==V.panelId,panelFlag:V.panelFlag,panelFlagChanged:W==null||W.panelFlag!==V.panelFlag,panelFocus:V.panelFocus,panelFocusChanged:W==null||W.panelFocus!==V.panelFocus,panelIndex:V.panelIndex,panelIndexChanged:W==null||W.panelIndex!==V.panelIndex,panelSize:V.panelSize,panelSizeChanged:W==null||W.panelSize!==V.panelSize,panelVisible:V.panelVisible,panelVisibleChanged:W==null||W.panelVisible!==V.panelVisible,videoVisible:V.videoVisible,videoVisibleChanged:W==null||W.videoVisible!==V.videoVisible,videoActive:V.videoActive,videoActiveChanged:W==null||W.videoActive!==V.videoActive,playerVisible:V.playerVisible,playerVisibleChanged:W==null||W.playerVisible!==V.playerVisible,slideshowVisible:V.slideshowVisible,slideshowVisibleChanged:W==null||W.slideshowVisible!==V.slideshowVisible,volumeVisible:V.volumeVisible,volumeVisibleChanged:W==null||W.volumeVisible!==V.volumeVisible,logVisible:V.logVisible,logVisibleChanged:W==null||W.logVisible!==V.logVisible}:W
        };S()};var E=new function(){var L="videoPlugin";var aB="vrq";var ah=100;var N=30000;var ac=new o("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var R=null;var Z=false;var az=null;var aN=false;var P=false;var am=false;var aV=false;var a3=null;var a5=new i();var Y=new n(1000);var aD=new n(1000);var aM=false;var a0={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:k.SCREEN_WIDTH,height:k.SCREEN_HEIGHT};var ad=function(a6){R=new o(a6)};var ao=function(a6){if(aN){if(a6=="local"){return R!=null?R.createSteam():null}return ac.createSteam()}return null};var K=function(a6,a7){if(aN){if(a7=="local"){return R!=null?R.resolveToken(a6):null}return ac.resolveToken(a6)}return null};var aE=function(a6,a7){if(aN){if(a7=="local"){return R!=null?R.transformString(a6):null}else{if(a7=="global"){return ac.transformString(a6)}else{if(a7=="shared"){return m.transformString(R!=null?R.transformString(a6):a6)
    }}}return ac.transformString(R!=null?R.transformString(a6):a6)}return null};var ab=function(a6,a7){if(aN){if(a7=="local"){return R!=null?R.normalizeString(a6):null}else{if(a7=="global"){return ac.normalizeString(a6)}else{if(a7=="shared"){return R!=null?R.normalizeString(m.normalizeString(a6)):m.normalizeString(a6)}}}return R!=null?R.normalizeString(ac.normalizeString(a6)):ac.normalizeString(a6)}return null};var aW=function(a6){if(a.isNum(a6)){a6=a.strToNum(a6,0);if(isFinite(a6)){return a6}}return 0};var M=function(){if(a0.position==0||a0.duration==0){try{var a6=false;if(a0.position==0){a0.position=aW(a3.getPosition());a6=a0.position>0}if(a0.duration==0){a0.duration=aW(a3.getDuration());a6=a0.duration>0}if(a0.position>0&&a0.duration>0){aT()}if(a6){S()}}catch(a7){ai("Start failed",a7);aT()}}else{aT()}};var aT=function(){Z=true;aa()};var a2=function(){aa();if(aN&&!Z&&a3!=null&&typeof a3.getPosition=="function"&&typeof a3.getDuration=="function"){az=setInterval(M,ah)}};var aa=function(){if(az!=null){clearInterval(az);
        az=null}};var aX=0;var aQ={};var at=function(a8){aX++;var a6=aB+aX+"_"+g.getTimestamp();var a7={timeout:new n(N),callback:a8};aQ[a6]=a7;a7.timeout.start(function(){av(a6,{error:"Request timed out"})});return a6};var av=function(a6,a8){if(a6!=null){var a7=aQ[a6];if(a7!=null){a7.timeout.stop();delete aQ[a6];W(a7.callback,a8)}}};var W=function(a8,a6){if(typeof a8=="function"){try{a8(a6)}catch(a7){ai("Callback error",a7)}}};var aU=new h();var V=new n(500);var aw=null;var aG=null;var ae=function(a6){if(a6!=null){if(s.isSameContentState(aw,a6)){if(!s.isSameContentState(aG,a6)){if(aG==null){a6.init=true}aG=s.createChangedContentState(aG,a6);aU.notifyObservers(aG)}}else{aw=a6}}af()};var aL=function(){if(aN){ap("info:content",function(a6){ae(a6.info!=null&&a6.info.content!=null?a6.info.content.state:null)})}else{af()}};var af=function(a6){if(aU.hasObservers()){if(a.isFullStr(a6)&&aG!=null){aU.notifyObserver(a6,aG)}V.start(aL)}else{aw=null;aG=null;V.stop()}};var S=function(){X(a0)};var aF=function(){a5.addHook(L,aA)
    };var aY=function(){if(a0.state==y.STOPPED){a5.stop()}else{a5.start()}};var T=function(a6,a7){if(a.isFullStr(a6)){X({action:a6,data:a7!=null?a7:null})}};var ax=function(a7,a6){if(a.isFullStr(a7)){if(a6!==false){T("logger:debug:"+a7)}}};var aC=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){T("logger:success:"+a7,{show:a8!==false})}else{if(a8!==false){T("success:"+a7)}}}};var a4=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){T("logger:info:"+a7,{show:a8!==false})}else{if(a8!==false){T("info:"+a7)}}}};var aj=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){T("logger:warn:"+a7,{show:a8!==false})}else{if(a8!==false){T("warn:"+a7)}}}};var au=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){T("logger:error:"+a7,{show:a8!==false})}else{if(a8!==false){T("error:"+a7)}}}};var O=function(a6,a7){if(a.isFullStr(a6)&&a7!=null){if(typeof a7=="object"){T(a6+":data",a7)}else{T(a6+":"+a7)}}};var aP=function(a6){O("menu",a6)};var ar=function(a6){O("content",a6)};var aq=function(a6){O("panel",a6)
    };var ap=function(a6,a8,a7){if(a.isFullStr(a6)){if(a7==null){a7={}}a7.requestId=at(a8);a7.dataId=a6;T("player:commit:"+a6,a7)}else{W(a8,{error:"Data ID is invalid: '"+a6+"'"})}};var ai=function(a6,a7){if(a6!=null&&a7!=null){if(a7.name!=null&&a7.message!=null){au("Plugin: "+a6+": "+a7.name+": "+a7.message)}else{au("Plugin: "+a6+": "+a7)}}};var I=function(a6){if(a0.state!=y.PLAYING||a6===true){a0.state=y.PLAYING;if(aN&&a3!=null&&typeof a3.play=="function"){try{a3.play()}catch(a7){ai("Play failed",a7)}}}};var aO=function(a6){if(a0.state!=y.PAUSED||a6===true){a0.state=y.PAUSED;if(aN&&a3!=null&&typeof a3.pause=="function"){try{a3.pause()}catch(a7){ai("Pause failed",a7)}}}};var a1=function(a6){if(a0.state!=y.STOPPED||a6===true){a0.state=y.STOPPED;if(aN&&a3!=null&&typeof a3.stop=="function"){try{a3.stop()}catch(a7){ai("Stop failed",a7)}}}};var aR=function(a6,a7){if(a6==y.PLAYING){I(a7)}else{if(a6==y.PAUSED){aO(a7)}else{if(a6==y.STOPPED){a1(a7)}}}};var aA=function(){if(aN&&a3!=null&&!Y.isBusy()&&typeof a3.getUpdateData=="function"){try{var a7=a3.getUpdateData();
        if(a7!=null){var a8=false;if(a.isNum(a7.state)){a8=true;a0.state=a.strToNum(a7.state,a0.state)}if(a.isNum(a7.position)){a8=true;a0.position=a.strToNum(a7.position,a0.position);if(!isFinite(a0.position)){a0.position=0}}if(a.isNum(a7.duration)){a8=true;a0.duration=a.strToNum(a7.duration,a0.duration);if(!isFinite(a0.duration)){a0.duration=0}}if(a.isNum(a7.speed)){a8=true;a0.speed=a.strToNum(a7.speed,a0.speed)}if(a.isBool(a7.ended)){a8=true;a0.ended=a.strToBool(a7.ended,a0.ended)}if(a.isNum(a7.volume)){a8=true;a0.volume=a.strToNum(a7.volume,a0.volume)}if(a.isBool(a7.muted)){a8=true;a0.muted=a.strToBool(a7.muted,a0.muted)}if(a8){S();aY()}}}catch(a6){ai("Update failed",a6)}}};var aI=function(a8,a6){aV=false;if(a0.position!=a8||a8==0||a6===true){a0.position=a8;if(aN&&a3!=null&&typeof a3.setPosition=="function"){try{a3.setPosition(a8);if(!aV){Y.start()}}catch(a7){ai("Set position failed",a7)}}}};var aJ=function(a6,a8){if(a0.volume!=a6||a8===true){a0.volume=a6;if(aN&&a3!=null&&typeof a3.setVolume=="function"){try{a3.setVolume(a6)
    }catch(a7){ai("Set volume failed",a7)}}}};var Q=function(a6,a7){if(a0.muted!=a6||a7===true){a0.muted=a6;if(aN&&a3!=null&&typeof a3.setMuted=="function"){try{a3.setMuted(a6)}catch(a8){ai("Set muted failed",a8)}}}};var aZ=function(a6,a7){if(a0.speed!=a6||a7===true){a0.speed=a6;if(aN&&a3!=null&&typeof a3.setSpeed=="function"){try{a3.setSpeed(a6)}catch(a8){ai("Set speed failed",a8)}}}};var an=function(a7,a6,a8){if(a0.width!=a7||a0.height!=a6||a8===true){a0.width=a7;a0.height=a6;if(aN&&a3!=null&&typeof a3.setSize=="function"){try{a3.setSize(a7,a6)}catch(a9){ai("Set size failed",a9)}}}};var aK=function(a6,a7){T("response:"+a6,a7)};var al=function(a6,a7){av(a6,a7)};var J=function(a7,a6,a9){if(typeof a3.handleRequest=="function"){try{a3.handleRequest(a6,a9,function(ba){aK(a7,ba)})}catch(a8){ai("Handle request failed",a8);aK(a7)}}else{aK(a7)}};var U=function(a7){if(aN&&a7!=null&&a3!=null){if(typeof a3.handleEvent=="function"){try{a3.handleEvent(a7)}catch(a6){ai("Handle event failed",a6)}}}};var ay=function(ba){if(aN&&ba!=null&&a3!=null){if(a.isFullStr(ba.requestId)&&a.isFullStr(ba.dataId)){J(ba.requestId,ba.dataId,ba.data)
    }else{if(ba.data!=null&&a.isFullStr(ba.data.requestId)&&a.isFullStr(ba.data.dataId)){var a7={};var a9=ba.data.dataId;var a6=a9.indexOf(":");if(a6>0){a9=a9.substr(0,a6)}a7[a9]=ba[a9]!=null?ba[a9]:null;a7.error=a.strFullCheck(ba.error,null);al(ba.data.requestId,a7)}else{if(typeof a3.handleData=="function"){try{a3.handleData(ba)}catch(a8){ai("Handle data failed",a8)}}}}}};var ag=function(a6){if(!am||a6===true){am=true;if(a3!=null&&typeof a3.init=="function"){try{a3.init()}catch(a7){ai("Call init failed",a7)}}}};var aS=function(a6){if(!aN||a6===true){aN=true;if(a3!=null&&typeof a3.ready=="function"){try{a3.ready()}catch(a7){ai("Call ready failed",a7)}}}};var aH=function(){aN=false;window.addEventListener("message",function(a6){if(m.checkOrigin(a6.origin)){ak(a6.data)}},false);T("plugin:init")};var ak=function(a6){if(am&&a6!=null&&a6.type===L){if(a6.init===1&&aN){return}if(a.isNum(a6.state)){aR(a.strToNum(a6.state,a0.state))}if(a.isNum(a6.position)){aI(a.strToNum(a6.position,a0.position))}if(a.isNum(a6.speed)){aZ(a.strToNum(a6.speed,a0.speed))
    }if(a.isNum(a6.volume)){Q(false);aJ(a.strToNum(a6.volume,a0.volume))}if(a.isBool(a6.muted)){Q(a.strToBool(a6.muted,a0.muted))}if(a.isNum(a6.width)&&a.isNum(a6.height)){an(a.strToNum(a6.width,a0.width),a.strToNum(a6.height,a0.height))}if(a6.init===1){aS()}else{if(a6.data!=null){if(a.isFullStr(a6.data.event)){U(a6.data)}else{ay(a6.data)}}}}};var X=function(a7){if(window.parent!=null&&a7!=null){a7.type=L;a7.sender="plugin";a7.target="app";try{window.parent.postMessage(a7,"*")}catch(a6){if(window.console!=null){console.error("Post message failed",a6)}}}};this.setupPlayer=function(a6){a3=a6;if(am){ag(true)}if(aN){aS(true)}};this.setSeekDelay=function(a6){Y.delay=a.strToNum(a6,Y.delay)};this.getSeekDelay=function(){return Y.delay};this.setLoadingDelay=function(a6){aD.delay=a.strToNum(a6,aD.delay)};this.getLoadingDelay=function(){return aD.delay};this.setState=function(a6,a7){if(aN){a0.state=a.strToNum(a6,a0.state);if(a7===true){S()}aY()}};this.getState=function(){return a0.state};this.applyState=function(){if(aN){aR(a0.state,true)
    }};this.setPosition=function(a7,a6){if(aN){aV=true;a0.position=a.strToNum(a7,a0.position);if(!isFinite(a0.position)){a0.position=0}Y.stop();if(a6===true){S();aY()}}};this.getPosition=function(){return a0.position};this.applyPosition=function(){if(aN){aI(a0.position,true)}};this.setDuration=function(a6,a7){if(aN){a0.duration=a.strToNum(a6,a0.duration);if(!isFinite(a0.duration)){a0.duration=0}if(a7===true){S();aY()}}};this.getDuration=function(){return a0.duration};this.setSpeed=function(a6,a7){if(aN){a0.speed=a.strToNum(a6,a0.speed);if(a7===true){S();aY()}}};this.getSpeed=function(){return a0.speed};this.applySpeed=function(){if(aN){aZ(a0.speed,true)}};this.setEnded=function(a6,a7){if(aN){a0.ended=a.strToBool(a6,a0.ended);if(a7===true){S();aY()}}};this.hasEnded=function(){return a0.ended};this.setVolume=function(a7,a6){if(aN){a0.volume=a.strToNum(a7,a0.volume);if(a6===true){S();aY()}}};this.getVolume=function(){return a0.volume};this.setMuted=function(a6,a7){if(aN){a0.muted=a.strToBool(a6,a0.muted);
        if(a7===true){S();aY()}}};this.isMuted=function(){return a0.muted};this.applyVolume=function(){if(aN){aJ(a0.volume,true);Q(a0.muted,true)}};this.getWidth=function(){return a0.width};this.getHeight=function(){return a0.height};this.applySize=function(){if(aN){an(a0.width,a0.height,true)}};this.executeAction=function(a6,a7){if(aN){T(a6,a7)}};this.debug=function(a7,a6){if(aN){ax(a7,a6)}};this.success=function(a7,a6,a8){if(aN){aC(a7,a6,a8)}};this.info=function(a7,a6,a8){if(aN){a4(a7,a6,a8)}};this.warn=function(a7,a6,a8){if(aN){aj(a7,a6,a8)}};this.error=function(a7,a6,a8){if(aN){au(a7,a6,a8)}};this.showMenu=function(a6){if(aN){aP(a6)}};this.showContent=function(a6){if(aN){ar(a6)}};this.showPanel=function(a6){if(aN){aq(a6)}};this.showPlayer=function(a6){if(aN){if(a.isFullStr(a6)){T("player:show:"+a6)}else{T("player:show")}}};this.showAction=function(){if(aN){T("player:action")}};this.hidePlayer=function(){if(aN){T("player:hide")}};this.setupContentLabel=function(a6){if(aN){T("player:label:content:"+a.strFullCheck(a6,"default"))
    }};this.setupExtensionLabel=function(a6){if(aN){T("player:label:extension:"+a.strFullCheck(a6,"default"))}};this.setupPositionLabel=function(a6){if(aN){T("player:label:position:"+a.strFullCheck(a6,"default"))}};this.setupDurationLabel=function(a6){if(aN){T("player:label:duration:"+a.strFullCheck(a6,"default"))}};this.setupSpeedLabel=function(a6){if(aN){T("player:label:speed:"+a.strFullCheck(a6,"default"))}};this.setupInfoText=function(a6){if(aN){T("player:info:text:"+a.strFullCheck(a6,"default"))}};this.setupInfoImage=function(a6){if(aN){T("player:info:image:"+a.strFullCheck(a6,"default"))}};this.setupButton=function(a6,a7){if(aN&&a.isId(a6)){T("player:button:"+a6+":setup",a7)}};this.enableButton=function(a6){if(aN&&a.isId(a6)){T("player:button:"+a6+":enable")}};this.disableButton=function(a6){if(aN&&a.isId(a6)){T("player:button:"+a6+":disable")}};this.focusButton=function(a6){if(aN&&a.isId(a6)){T("player:button:"+a6+":focus")}};this.setupProgressColor=function(a6){if(aN){T("player:progress:color:"+a.strFullCheck(a6,"default"))
    }};this.setupProgressType=function(a6){if(aN){T("player:progress:type:"+a.strFullCheck(a6,"default"))}};this.enableProgressMarker=function(){if(aN){T("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(aN){T("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(aN){T("player:progress:marker:invalidate")}};this.setupBackground=function(a6){if(aN){T("player:background:"+a.strFullCheck(a6,"default"))}};this.setupTrigger=function(a6,a7,a8){if(aN&&a.isFullStr(a6)&&a.isFullStr(a7)){if(a8===true){T("trigger:"+a6+":shot:"+a7)}else{T("trigger:"+a6+":"+a7)}}};this.clearTrigger=function(a6){if(aN&&a.isFullStr(a6)){T("trigger:"+a6+":none")}};this.refreshPlayer=function(){if(aN){T("player:refresh")}};this.resetPlayer=function(){if(aN){T("player:reset")}};this.cancelResume=function(){if(aN){T("resume:cancel")}};this.requestData=function(a6,a8,a7){if(aN){ap(a6,a8,a7)}else{W(a8,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(a6,a8,a7){if(a.isFullStr(a6)){this.requestData("response:request:interaction:"+a6,a8,a7!=null?{requestData:a7}:null)
    }else{W(a8,{error:"Data ID is invalid: '"+a6+"'"})}};this.validateSettings=function(a6){s.invalidateSettings();this.requestData("info",function(a7){s.validateSettings(a7);W(a6,a7)})};this.onValidatedSettings=function(a6){if(!s.areSettingsValidated()&&!aM){aM=true;this.validateSettings(function(){aM=false})}s.onValidatedSettings(a6)};this.triggerEvent=function(a6,a7){if(aN&&a.isFullStr(a6)){T("event:"+a6,a7)}};this.setupSteam=function(a6){ad(a6)};this.createSteam=function(a6){return ao(a6)};this.resolveToken=function(a6,a7){return K(a6,a7)};this.transformString=function(a6,a7){return aE(a6,a7)};this.normalizeString=function(a6,a7){return ab(a6,a7)};this.transformStringAsync=function(a8,a9,a7){var a6=aE(a8,a9);if(a.isFullStr(a6)){this.requestData("string:transform:"+a6,function(ba){W(a7,{string:a.strFullCheck(ba.string,null)})})}else{W(a7,{string:null})}};this.normalizeStringAsync=function(a7,a8,a6){if(a.isFullStr(a7)){this.requestData("string:normalize:"+a7,function(a9){W(a6,{string:ab(a9.string,a8)})
    })}else{W(a6,{string:null})}};this.createHashKey=function(a6,a7){return m.createHashKey(a6,a7)};this.clearDeviceId=function(){m.clearDeviceId()};this.getDeviceId=function(a6){return m.getDeviceId(a6)};this.requestDeviceId=function(a6){this.requestData("info:extended",function(a7){if(a7.error!=null){W(a6,{error:a7.error})}else{W(a6,{deviceId:m.getDeviceId(a7)})}})};this.hasContentObservers=function(){return aU.hasObservers()};this.addContentObserver=function(a6,a7){aU.addObserver(a6,a7);af(a6)};this.removeContentObserver=function(a6){aU.removeObserver(a6);af()};this.clearContentObservers=function(){aU.clear();af()};this.init=function(){if(!am){aH();aF();ag()}};this.commit=function(){if(aN){S();aY()}};this.isInitialized=function(){return am};this.isReady=function(){return aN};this.startPlayback=function(a6){if(aN){aR(y.PLAYING,true);S();aY();if(a6===true){a2()}}};this.stopPlayback=function(){if(aN){this.setEnded(true);S();aa()}};this.cancelPlayback=function(){if(aN){T("player:eject")}};this.startLoading=function(){if(aN){aD.start(function(){P=true;
        T("player:busy:start:loading")})}};this.stopLoading=function(){if(aN){aD.stop();if(P){P=false;T("player:busy:stop:loading")}}}};var x=new function(){var L="interactionPlugin";var ap="irq";var af=10;var aI=30000;var X=new o("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var Q=null;var P=false;var ar=new n(1000);var aA=false;var ah=false;var ab=null;var az=false;var aE=null;var Y=function(aM){Q=new o(aM)};var ai=function(aM){if(aA){if(aM=="local"){return Q!=null?Q.createSteam():null}return X.createSteam()}return null};var J=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.resolveToken(aM):null}return X.resolveToken(aM)}return null};var at=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.transformString(aM):null}else{if(aN=="global"){return X.transformString(aM)}else{if(aN=="shared"){return m.transformString(Q!=null?Q.transformString(aM):aM)}}}return X.transformString(Q!=null?Q.transformString(aM):aM)
    }return null};var W=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.normalizeString(aM):null}else{if(aN=="global"){return X.normalizeString(aM)}else{if(aN=="shared"){return Q!=null?Q.normalizeString(m.normalizeString(aM)):m.normalizeString(aM)}}}return Q!=null?Q.normalizeString(X.normalizeString(aM)):X.normalizeString(aM)}return null};var aJ=0;var aD={};var ak=function(aO){aJ++;var aM=ap+aJ+"_"+g.getTimestamp();var aN={timeout:new n(aI),callback:aO};aD[aM]=aN;aN.timeout.start(function(){am(aM,{error:"Request timed out"})});return aM};var am=function(aM,aO){if(aM!=null){var aN=aD[aM];if(aN!=null){aN.timeout.stop();delete aD[aM];T(aN.callback,aO)}}};var T=function(aO,aM){if(typeof aO=="function"){try{aO(aM)}catch(aN){ad("Callback error",aN)}}};var aH=new h();var ac=new n(500);var an=null;var av=null;var Z=function(aM){if(aM!=null){if(s.isSameContentState(an,aM)){if(!s.isSameContentState(av,aM)){if(av==null){aM.init=true}av=s.createChangedContentState(av,aM);aH.notifyObservers(av)}}else{an=aM
    }}aa()};var ay=function(){if(aA){aj("info:content",function(aM){Z(aM.info!=null&&aM.info.content!=null?aM.info.content.state:null)})}else{aa()}};var aa=function(aM){if(aH.hasObservers()){if(a.isFullStr(aM)&&av!=null){aH.notifyObserver(aM,av)}ac.start(ay)}else{an=null;av=null;ac.stop()}};var R=function(aM,aN){if(a.isFullStr(aM)){U({action:aM,data:aN!=null?aN:null})}};var au=function(aN,aM){if(a.isFullStr(aN)){if(aM!==false){R("logger:debug:"+aN)}}};var aq=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:success:"+aN,{show:aO!==false})}else{if(aO!==false){R("success:"+aN)}}}};var aL=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:info:"+aN,{show:aO!==false})}else{if(aO!==false){R("info:"+aN)}}}};var ae=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:warn:"+aN,{show:aO!==false})}else{if(aO!==false){R("warn:"+aN)}}}};var al=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:error:"+aN,{show:aO!==false})}else{if(aO!==false){R("error:"+aN)
    }}}};var N=function(aM,aN){if(a.isFullStr(aM)&&aN!=null){if(typeof aN=="object"){R(aM+":data",aN)}else{R(aM+":"+aN)}}};var aC=function(aM){N("menu",aM)};var V=function(aM){N("content",aM)};var S=function(aM){N("panel",aM)};var aj=function(aM,aO,aN){if(a.isFullStr(aM)){if(aN==null){aN={}}aN.requestId=ak(aO);aN.dataId=aM;R("interaction:commit:"+aM,aN)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};var ad=function(aM,aN){if(aM!=null&&aN!=null){if(aN.name!=null&&aN.message!=null){al("Interaction: "+aM+": "+aN.name+": "+aN.message)}else{al("Interaction: "+aM+": "+aN)}}};var ax=function(aM,aN){R("response:"+aM,aN)};var ag=function(aM,aN){am(aM,aN)};var I=function(aN,aM,aP){if(typeof ab.handleRequest=="function"){try{ab.handleRequest(aM,aP,function(aQ){ax(aN,aQ)})}catch(aO){ad("Handle request failed",aO);ax(aN)}}else{ax(aN)}};var aK=function(aN){if(aA&&aN!=null&&ab!=null){if(typeof ab.handleEvent=="function"){try{ab.handleEvent(aN)}catch(aM){ad("Handle event failed",aM)}}}};var ao=function(aQ){if(aA&&aQ!=null&&ab!=null){if(a.isFullStr(aQ.requestId)&&a.isFullStr(aQ.dataId)){I(aQ.requestId,aQ.dataId,aQ.data)
    }else{if(aQ.data!=null&&a.isFullStr(aQ.data.requestId)&&a.isFullStr(aQ.data.dataId)){var aN={};var aP=aQ.data.dataId;var aM=aP.indexOf(":");if(aM>0){aP=aP.substr(0,aM)}aN[aP]=aQ[aP]!=null?aQ[aP]:null;aN.error=a.strFullCheck(aQ.error,null);ag(aQ.data.requestId,aN)}else{if(typeof ab.handleData=="function"){try{ab.handleData(aQ)}catch(aO){ad("Handle data failed",aO)}}}}}};var aF=function(aM){aE=aM!=null&&aM.length>0?aM:null};var O=function(){if(aE!=null&&aE.length>0){for(var aM=0;aM<aE.length;aM++){ao(aE[aM])}}aE=null};var aG=function(aM){if(aA&&aM!=null){if(aE==null){aE=[]}if(aE.length>=af){aE.shift()}aE.push(aM)}};var M=function(aM){if(!ah||aM===true){ah=true;if(ab!=null&&typeof ab.init=="function"){try{ab.init()}catch(aN){ad("Call init failed",aN)}}}};var aB=function(aM){if(!aA||aM===true){aA=true;if(ab!=null&&typeof ab.ready=="function"){try{ab.ready()}catch(aN){ad("Call ready failed",aN)}}if(ab!=null){O()}}};var aw=function(){aA=false;window.addEventListener("message",function(aM){if(m.checkOrigin(aM.origin)){K(aM.data)
    }},false);R("interaction:init")};var K=function(aM){if(ah&&aM!=null&&aM.type===L){if(aM.init===1&&aA){return}if(aM.init===1){aF(aM.data);aB()}else{if(aM.data!=null){if(a.isFullStr(aM.data.event)){aK(aM.data)}else{if(ab!=null){ao(aM.data)}else{aG(aM.data)}}}}}};var U=function(aN){if(window.parent!=null&&aN!=null){aN.type=L;aN.sender="plugin";aN.target="app";try{window.parent.postMessage(aN,"*")}catch(aM){if(window.console!=null){console.error("Post message failed",aM)}}}};this.setupHandler=function(aM){ab=aM;if(ah){M(true)}if(aA){aB(true)}};this.setLoadingDelay=function(aM){ar.delay=a.strToNum(aM,ar.delay)};this.getLoadingDelay=function(){return ar.delay};this.executeAction=function(aM,aN){if(aA){R(aM,aN)}};this.debug=function(aN,aM){if(aA){au(aN,aM)}};this.success=function(aN,aM,aO){if(aA){aq(aN,aM,aO)}};this.info=function(aN,aM,aO){if(aA){aL(aN,aM,aO)}};this.warn=function(aN,aM,aO){if(aA){ae(aN,aM,aO)}};this.error=function(aN,aM,aO){if(aA){al(aN,aM,aO)}};this.showMenu=function(aM){if(aA){aC(aM)
    }};this.showContent=function(aM){if(aA){V(aM)}};this.showPanel=function(aM){if(aA){S(aM)}};this.requestData=function(aM,aO,aN){if(aA){aj(aM,aO,aN)}else{T(aO,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aM,aO,aN){if(a.isFullStr(aM)){this.requestData("response:request:player:"+aM,aO,aN!=null?{requestData:aN}:null)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};this.validateSettings=function(aM){s.invalidateSettings();this.requestData("info",function(aN){s.validateSettings(aN);T(aM,aN)})};this.onValidatedSettings=function(aM){if(!s.areSettingsValidated()&&!az){az=true;this.validateSettings(function(){az=false})}s.onValidatedSettings(aM)};this.triggerEvent=function(aM,aN){if(aA&&a.isFullStr(aM)){R("event:"+aM,aN)}};this.setupSteam=function(aM){Y(aM)};this.createSteam=function(aM){return ai(aM)};this.resolveToken=function(aM,aN){return J(aM,aN)};this.transformString=function(aM,aN){return at(aM,aN)};this.normalizeString=function(aM,aN){return W(aM,aN)};this.transformStringAsync=function(aO,aP,aN){var aM=at(aO,aP);
        if(a.isFullStr(aM)){this.requestData("string:transform:"+aM,function(aQ){T(aN,{string:a.strFullCheck(aQ.string,null)})})}else{T(aN,{string:null})}};this.normalizeStringAsync=function(aN,aO,aM){if(a.isFullStr(aN)){this.requestData("string:normalize:"+aN,function(aP){T(aM,{string:W(aP.string,aO)})})}else{T(aM,{string:null})}};this.createHashKey=function(aM,aN){return m.createHashKey(aM,aN)};this.clearDeviceId=function(){m.clearDeviceId()};this.getDeviceId=function(aM){return m.getDeviceId(aM)};this.requestDeviceId=function(aM){this.requestData("info:extended",function(aN){if(aN.error!=null){T(aM,{error:aN.error})}else{T(aM,{deviceId:m.getDeviceId(aN)})}})};this.hasContentObservers=function(){return aH.hasObservers()};this.addContentObserver=function(aM,aN){aH.addObserver(aM,aN);aa(aM)};this.removeContentObserver=function(aM){aH.removeObserver(aM);aa()};this.clearContentObservers=function(){aH.clear();aa()};this.init=function(){if(!ah){aw();M()}};this.isInitialized=function(){return ah};this.isReady=function(){return aA
    };this.startLoading=function(){if(aA){ar.start(function(){P=true;R("interaction:busy:start:loading")})}};this.stopLoading=function(){if(aA){ar.stop();if(P){P=false;R("interaction:busy:stop:loading")}}}};return{Settings:k,Styles:l,Tools:a,DateTools:g,DateFormatter:F,PropertyTools:D,VideoState:y,Action:f,Cookies:H,Storage:d,UrlParams:A,Options:e,Observers:h,EventObservers:G,Queue:w,Worker:c,Delay:n,Click:C,Ajax:j,LogLevel:r,Logger:u,Dictionary:p,Clock:i,Services:z,DataLoader:t,DataService:B,BlobService:q,RequestService:v,BusyService:b,PluginTools:s,VideoPlugin:E,InteractionPlugin:x}}));